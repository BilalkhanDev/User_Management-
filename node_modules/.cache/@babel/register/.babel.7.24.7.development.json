{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const dotenv = require('dotenv');\ndotenv.config();\nconst express = require('express');\nconst app = express();\nconst cors = require(\"cors\");\nconst connectDB = require('./config/db');\nconst bodyparser = require(\"body-parser\");\napp.use(cors());\napp.use(bodyparser.urlencoded({\n  extended: true\n}));\napp.use(bodyparser.json());\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n}));\nconst port = 8080;\n\n// Middleware to parse JSON bodies\napp.use(express.json());\napp.use(express.json({\n  limit: \"10mb\"\n}));\napp.use(\"/api\", require(\"./routes/index\"));\n// Define a simple route\napp.get('/', (req, res) => {\n  res.send('Hello, World!');\n});\nconst startServer = async () => {\n  try {\n    connectDB(process.env.MONGODB_URL);\n    app.listen(port, () => console.log(`Server started on port ${port}`));\n  } catch (error) {\n    console.log(error);\n  }\n};\nstartServer();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJyZXF1aXJlIiwiY29uZmlnIiwiZXhwcmVzcyIsImFwcCIsImNvcnMiLCJjb25uZWN0REIiLCJib2R5cGFyc2VyIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsInBvcnQiLCJsaW1pdCIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJzdGFydFNlcnZlciIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciJdLCJzb3VyY2VSb290IjoiRDpcXHByb2plY3RzXFxBc3NpZ25tZW50XFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7XHJcbmRvdGVudi5jb25maWcoKTtcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7IFxyXG5jb25zdCBjb25uZWN0REI9cmVxdWlyZSgnLi9jb25maWcvZGInKVxyXG5jb25zdCBib2R5cGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xyXG5hcHAudXNlKGNvcnMoKSlcclxuYXBwLnVzZShib2R5cGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XHJcbmFwcC51c2UoYm9keXBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XHJcbmNvbnN0IHBvcnQgPSA4MDgwO1xyXG5cclxuLy8gTWlkZGxld2FyZSB0byBwYXJzZSBKU09OIGJvZGllc1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuXHJcblxyXG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiBcIjEwbWJcIiB9KSk7XHJcbmFwcC51c2UoXCIvYXBpXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy9pbmRleFwiKSk7XHJcbi8vIERlZmluZSBhIHNpbXBsZSByb3V0ZVxyXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnNlbmQoJ0hlbGxvLCBXb3JsZCEnKTtcclxufSk7XHJcbmNvbnN0IHN0YXJ0U2VydmVyID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25uZWN0REIocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwpO1xyXG4gICAgYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gcG9ydCAke3BvcnR9YCkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuc3RhcnRTZXJ2ZXIoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaENELE1BQU0sQ0FBQ0UsTUFBTSxDQUFDLENBQUM7QUFDZixNQUFNQyxPQUFPLEdBQUdGLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUcsR0FBRyxHQUFHRCxPQUFPLENBQUMsQ0FBQztBQUNyQixNQUFNRSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUssU0FBUyxHQUFDTCxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3RDLE1BQU1NLFVBQVUsR0FBR04sT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUN6Q0csR0FBRyxDQUFDSSxHQUFHLENBQUNILElBQUksQ0FBQyxDQUFDLENBQUM7QUFDZkQsR0FBRyxDQUFDSSxHQUFHLENBQUNELFVBQVUsQ0FBQ0UsVUFBVSxDQUFDO0VBQUVDLFFBQVEsRUFBRTtBQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ2xETixHQUFHLENBQUNJLEdBQUcsQ0FBQ0QsVUFBVSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzFCUCxHQUFHLENBQUNJLEdBQUcsQ0FBQ0wsT0FBTyxDQUFDUSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCUCxHQUFHLENBQUNJLEdBQUcsQ0FBQ0wsT0FBTyxDQUFDTSxVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQUM7QUFDL0MsTUFBTUUsSUFBSSxHQUFHLElBQUk7O0FBRWpCO0FBQ0FSLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDTCxPQUFPLENBQUNRLElBQUksQ0FBQyxDQUFDLENBQUM7QUFHdkJQLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDTCxPQUFPLENBQUNRLElBQUksQ0FBQztFQUFFRSxLQUFLLEVBQUU7QUFBTyxDQUFDLENBQUMsQ0FBQztBQUN4Q1QsR0FBRyxDQUFDSSxHQUFHLENBQUMsTUFBTSxFQUFFUCxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUMxQztBQUNBRyxHQUFHLENBQUNVLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJBLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDLGVBQWUsQ0FBQztBQUMzQixDQUFDLENBQUM7QUFDRixNQUFNQyxXQUFXLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQzlCLElBQUk7SUFDRlosU0FBUyxDQUFDYSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxDQUFDO0lBQ2xDakIsR0FBRyxDQUFDa0IsTUFBTSxDQUFDVixJQUFJLEVBQUUsTUFBTVcsT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCWixJQUFJLEVBQUUsQ0FBQyxDQUFDO0VBQ3ZFLENBQUMsQ0FBQyxPQUFPYSxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLEtBQUssQ0FBQztFQUNwQjtBQUNGLENBQUM7QUFFRFAsV0FBVyxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["dotenv","require","config","express","app","cors","connectDB","bodyparser","use","urlencoded","extended","json","port","limit","get","req","res","send","startServer","process","env","MONGODB_URL","listen","console","log","error"],"sourceRoot":"D:\\projects\\Assignment\\src\\","sources":["index.js"],"sourcesContent":["const dotenv = require('dotenv');\r\ndotenv.config();\r\nconst express = require('express');\r\nconst app = express();\r\nconst cors = require(\"cors\"); \r\nconst connectDB=require('./config/db')\r\nconst bodyparser = require(\"body-parser\");\r\napp.use(cors())\r\napp.use(bodyparser.urlencoded({ extended: true }));\r\napp.use(bodyparser.json());\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\nconst port = 8080;\r\n\r\n// Middleware to parse JSON bodies\r\napp.use(express.json());\r\n\r\n\r\napp.use(express.json({ limit: \"10mb\" }));\r\napp.use(\"/api\", require(\"./routes/index\"));\r\n// Define a simple route\r\napp.get('/', (req, res) => {\r\n  res.send('Hello, World!');\r\n});\r\nconst startServer = async () => {\r\n  try {\r\n    connectDB(process.env.MONGODB_URL);\r\n    app.listen(port, () => console.log(`Server started on port ${port}`));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nstartServer();\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChCD,MAAM,CAACE,MAAM,CAAC,CAAC;AACf,MAAMC,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMG,GAAG,GAAGD,OAAO,CAAC,CAAC;AACrB,MAAME,IAAI,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMK,SAAS,GAACL,OAAO,CAAC,aAAa,CAAC;AACtC,MAAMM,UAAU,GAAGN,OAAO,CAAC,aAAa,CAAC;AACzCG,GAAG,CAACI,GAAG,CAACH,IAAI,CAAC,CAAC,CAAC;AACfD,GAAG,CAACI,GAAG,CAACD,UAAU,CAACE,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAClDN,GAAG,CAACI,GAAG,CAACD,UAAU,CAACI,IAAI,CAAC,CAAC,CAAC;AAC1BP,GAAG,CAACI,GAAG,CAACL,OAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AACvBP,GAAG,CAACI,GAAG,CAACL,OAAO,CAACM,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/C,MAAME,IAAI,GAAG,IAAI;;AAEjB;AACAR,GAAG,CAACI,GAAG,CAACL,OAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AAGvBP,GAAG,CAACI,GAAG,CAACL,OAAO,CAACQ,IAAI,CAAC;EAAEE,KAAK,EAAE;AAAO,CAAC,CAAC,CAAC;AACxCT,GAAG,CAACI,GAAG,CAAC,MAAM,EAAEP,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC1C;AACAG,GAAG,CAACU,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACC,IAAI,CAAC,eAAe,CAAC;AAC3B,CAAC,CAAC;AACF,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI;IACFZ,SAAS,CAACa,OAAO,CAACC,GAAG,CAACC,WAAW,CAAC;IAClCjB,GAAG,CAACkB,MAAM,CAACV,IAAI,EAAE,MAAMW,OAAO,CAACC,GAAG,CAAC,0BAA0BZ,IAAI,EAAE,CAAC,CAAC;EACvE,CAAC,CAAC,OAAOa,KAAK,EAAE;IACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EACpB;AACF,CAAC;AAEDP,WAAW,CAAC,CAAC","ignoreList":[]}},"mtime":1720533184396},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\config\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst AdminSeed = require(\"../seeders/admin\");\nconst connectDB = () => {\n  mongoose.set('strictQuery', true);\n  const uri = process.env.MONGODB_URL; // MongoDB URI\n  mongoose.connect(`${uri}/Assignment`).then(() => {\n    console.log('Connected to MongoDB');\n    AdminSeed(null, null, () => {});\n  }).catch(err => {\n    console.error('Failed to connect to MongoDB');\n    console.error(err);\n  });\n};\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJBZG1pblNlZWQiLCJjb25uZWN0REIiLCJzZXQiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkwiLCJjb25uZWN0IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHByb2plY3RzXFxBc3NpZ25tZW50XFxzcmNcXGNvbmZpZ1xcIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZT1yZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IEFkbWluU2VlZCA9IHJlcXVpcmUoXCIuLi9zZWVkZXJzL2FkbWluXCIpO1xyXG5jb25zdCBjb25uZWN0REIgPSgpID0+IHtcclxuICBtb25nb29zZS5zZXQoJ3N0cmljdFF1ZXJ5JywgdHJ1ZSk7XHJcbiAgY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkw7IC8vIE1vbmdvREIgVVJJXHJcbiAgbW9uZ29vc2UuY29ubmVjdChgJHt1cml9L0Fzc2lnbm1lbnRgKVxyXG4gICAgLnRoZW4oKCkgPT4gXHJcbiAgICB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gTW9uZ29EQicpXHJcbiAgICAgIEFkbWluU2VlZChudWxsLCBudWxsLCAoKSA9PiB7fSk7XHJcbiAgICB9XHJcbiAgKVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgdG8gTW9uZ29EQicpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzPSBjb25uZWN0REI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1DLFNBQVMsR0FBR0QsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0FBQzdDLE1BQU1FLFNBQVMsR0FBRUEsQ0FBQSxLQUFNO0VBQ3JCSCxRQUFRLENBQUNJLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDO0VBQ2pDLE1BQU1DLEdBQUcsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQ3JDUixRQUFRLENBQUNTLE9BQU8sQ0FBQyxHQUFHSixHQUFHLGFBQWEsQ0FBQyxDQUNsQ0ssSUFBSSxDQUFDLE1BQ047SUFDRUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7SUFDbkNWLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7RUFDakMsQ0FDRixDQUFDLENBQ0VXLEtBQUssQ0FBRUMsR0FBRyxJQUFLO0lBQ2RILE9BQU8sQ0FBQ0ksS0FBSyxDQUFDLDhCQUE4QixDQUFDO0lBQzdDSixPQUFPLENBQUNJLEtBQUssQ0FBQ0QsR0FBRyxDQUFDO0VBQ3BCLENBQUMsQ0FBQztBQUNOLENBQUM7QUFFREUsTUFBTSxDQUFDQyxPQUFPLEdBQUVkLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["mongoose","require","AdminSeed","connectDB","set","uri","process","env","MONGODB_URL","connect","then","console","log","catch","err","error","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\config\\","sources":["db.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\nconst AdminSeed = require(\"../seeders/admin\");\r\nconst connectDB =() => {\r\n  mongoose.set('strictQuery', true);\r\n  const uri = process.env.MONGODB_URL; // MongoDB URI\r\n  mongoose.connect(`${uri}/Assignment`)\r\n    .then(() => \r\n    {\r\n      console.log('Connected to MongoDB')\r\n      AdminSeed(null, null, () => {});\r\n    }\r\n  )\r\n    .catch((err) => {\r\n      console.error('Failed to connect to MongoDB');\r\n      console.error(err);\r\n    });\r\n};\r\n\r\nmodule.exports= connectDB;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,SAAS,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AAC7C,MAAME,SAAS,GAAEA,CAAA,KAAM;EACrBH,QAAQ,CAACI,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC;EACjC,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,CAAC,CAAC;EACrCR,QAAQ,CAACS,OAAO,CAAC,GAAGJ,GAAG,aAAa,CAAC,CAClCK,IAAI,CAAC,MACN;IACEC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnCV,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;EACjC,CACF,CAAC,CACEW,KAAK,CAAEC,GAAG,IAAK;IACdH,OAAO,CAACI,KAAK,CAAC,8BAA8B,CAAC;IAC7CJ,OAAO,CAACI,KAAK,CAACD,GAAG,CAAC;EACpB,CAAC,CAAC;AACN,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAEd,SAAS","ignoreList":[]}},"mtime":1720538379852},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const Router = require(\"express\").Router();\nRouter.use(require(\"./user\"));\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJyZXF1aXJlIiwidXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHByb2plY3RzXFxBc3NpZ25tZW50XFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoKTtcclxuXHJcblJvdXRlci51c2UocmVxdWlyZShcIi4vdXNlclwiKSk7XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDRCxNQUFNLENBQUMsQ0FBQztBQUUxQ0EsTUFBTSxDQUFDRSxHQUFHLENBQUNELE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUk3QkUsTUFBTSxDQUFDQyxPQUFPLEdBQUdKLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Router","require","use","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\routes\\","sources":["index.js"],"sourcesContent":["const Router = require(\"express\").Router();\r\n\r\nRouter.use(require(\"./user\"));\r\n\r\n\r\n\r\nmodule.exports = Router;\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC,CAACD,MAAM,CAAC,CAAC;AAE1CA,MAAM,CAACE,GAAG,CAACD,OAAO,CAAC,QAAQ,CAAC,CAAC;AAI7BE,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1720533119396},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\routes\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const Router = require(\"express\").Router();\nconst {\n  registerCustomer\n} = require(\"../controllers/user\");\nconst {\n  validator,\n  verifyToken\n} = require(\"../middlewares/reqValidator\");\nRouter.get(\"/user/register_customer\", validator(\"userRegister\", \"body\"),\n// verifyToken,\nregisterCustomer);\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJyZXF1aXJlIiwicmVnaXN0ZXJDdXN0b21lciIsInZhbGlkYXRvciIsInZlcmlmeVRva2VuIiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHByb2plY3RzXFxBc3NpZ25tZW50XFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xyXG5jb25zdHsgcmVnaXN0ZXJDdXN0b21lciB9ID1yZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvdXNlclwiKTtcclxuY29uc3QgIHsgdmFsaWRhdG9yLCB2ZXJpZnlUb2tlbiB9ID1yZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvcmVxVmFsaWRhdG9yXCIpO1xyXG5cclxuUm91dGVyLmdldChcclxuICAgIFwiL3VzZXIvcmVnaXN0ZXJfY3VzdG9tZXJcIixcclxuICAgIHZhbGlkYXRvcihcInVzZXJSZWdpc3RlclwiLCBcImJvZHlcIiksXHJcbiAgICAvLyB2ZXJpZnlUb2tlbixcclxuICAgIHJlZ2lzdGVyQ3VzdG9tZXJcclxuXHJcbilcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDRCxNQUFNLENBQUMsQ0FBQztBQUMxQyxNQUFLO0VBQUVFO0FBQWlCLENBQUMsR0FBRUQsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0FBQ3pELE1BQU87RUFBRUUsU0FBUztFQUFFQztBQUFZLENBQUMsR0FBRUgsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBRXpFRCxNQUFNLENBQUNLLEdBQUcsQ0FDTix5QkFBeUIsRUFDekJGLFNBQVMsQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDO0FBQ2pDO0FBQ0FELGdCQUVKLENBQUM7QUFFREksTUFBTSxDQUFDQyxPQUFPLEdBQUdQLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Router","require","registerCustomer","validator","verifyToken","get","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\routes\\","sources":["user.js"],"sourcesContent":["const Router = require(\"express\").Router();\r\nconst{ registerCustomer } =require(\"../controllers/user\");\r\nconst  { validator, verifyToken } =require(\"../middlewares/reqValidator\");\r\n\r\nRouter.get(\r\n    \"/user/register_customer\",\r\n    validator(\"userRegister\", \"body\"),\r\n    // verifyToken,\r\n    registerCustomer\r\n\r\n)\r\n\r\nmodule.exports = Router;\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC,CAACD,MAAM,CAAC,CAAC;AAC1C,MAAK;EAAEE;AAAiB,CAAC,GAAED,OAAO,CAAC,qBAAqB,CAAC;AACzD,MAAO;EAAEE,SAAS;EAAEC;AAAY,CAAC,GAAEH,OAAO,CAAC,6BAA6B,CAAC;AAEzED,MAAM,CAACK,GAAG,CACN,yBAAyB,EACzBF,SAAS,CAAC,cAAc,EAAE,MAAM,CAAC;AACjC;AACAD,gBAEJ,CAAC;AAEDI,MAAM,CAACC,OAAO,GAAGP,MAAM","ignoreList":[]}},"mtime":1720533850252},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\controllers\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const registerCustomer = (req, res, next) => {\n  console.log(\"Bilal\");\n  res.status(200).json({\n    message: \"Bilal\"\n  });\n  next();\n};\nmodule.exports = {\n  registerCustomer\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlckN1c3RvbWVyIiwicmVxIiwicmVzIiwibmV4dCIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxwcm9qZWN0c1xcQXNzaWdubWVudFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlZ2lzdGVyQ3VzdG9tZXI9KHJlcSxyZXMsbmV4dCk9PntcclxuICAgIGNvbnNvbGUubG9nKFwiQmlsYWxcIilcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOlwiQmlsYWxcIn0pXHJcbiAgICBuZXh0KClcclxufVxyXG5tb2R1bGUuZXhwb3J0cz17cmVnaXN0ZXJDdXN0b21lcn0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLGdCQUFnQixHQUFDQSxDQUFDQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFHO0VBQ25DQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7RUFDcEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBQ0MsT0FBTyxFQUFDO0VBQU8sQ0FBQyxDQUFDO0VBQ3ZDTCxJQUFJLENBQUMsQ0FBQztBQUNWLENBQUM7QUFDRE0sTUFBTSxDQUFDQyxPQUFPLEdBQUM7RUFBQ1Y7QUFBZ0IsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["registerCustomer","req","res","next","console","log","status","json","message","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\controllers\\","sources":["user.js"],"sourcesContent":["const registerCustomer=(req,res,next)=>{\r\n    console.log(\"Bilal\")\r\n    res.status(200).json({message:\"Bilal\"})\r\n    next()\r\n}\r\nmodule.exports={registerCustomer}"],"mappings":"AAAA,MAAMA,gBAAgB,GAACA,CAACC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;EACnCC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAACC,OAAO,EAAC;EAAO,CAAC,CAAC;EACvCL,IAAI,CAAC,CAAC;AACV,CAAC;AACDM,MAAM,CAACC,OAAO,GAAC;EAACV;AAAgB,CAAC","ignoreList":[]}},"mtime":1720533402332},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\middlewares\\\\reqValidator.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const schemaValidation = require(\"../config/schemaValidation\");\nconst jwt = require(\"jsonwebtoken\");\nconst validator = (property, place = \"body\") => (req, res, next) => {\n  const {\n    error\n  } = schemaValidation[property].validate(req[place], {\n    abortEarly: false\n  });\n  if (!error) {\n    next();\n  } else {\n    const errorMessage = error.details.map(detail => detail.message).join('; ');\n    res.status(400).json({\n      error: errorMessage\n    });\n  }\n};\nconst verifyToken = (req, res, next) => {\n  // Check if the authorization header is present\n  const authHeader = req.headers[\"authorization\"];\n  if (authHeader) {\n    // Extract the token from the authorization header\n    const token = authHeader.split(\" \")[1];\n\n    // Verify the token\n    jwt.verify(token, \"1234567892532\", (err, decoded) => {\n      if (err) {\n        return res.status(401).json({\n          message: \"Unauthorized\",\n          success: false,\n          responseCode: 401\n        });\n      } else {\n        // Token is valid, store decoded token in request object\n        req.decoded = decoded;\n        req.userId = decoded.userId;\n        console.log(\"Token verify\", req.decoded);\n        next();\n      }\n    });\n  } else {\n    // If there is no authorization header, return 401 Unauthorized\n    return res.status(401).json({\n      message: \"Unauthorized\",\n      success: false,\n      responseCode: 401\n    });\n  }\n};\nmodule.exports = {\n  validator,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzY2hlbWFWYWxpZGF0aW9uIiwicmVxdWlyZSIsImp3dCIsInZhbGlkYXRvciIsInByb3BlcnR5IiwicGxhY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZXJyb3IiLCJ2YWxpZGF0ZSIsImFib3J0RWFybHkiLCJlcnJvck1lc3NhZ2UiLCJkZXRhaWxzIiwibWFwIiwiZGV0YWlsIiwibWVzc2FnZSIsImpvaW4iLCJzdGF0dXMiLCJqc29uIiwidmVyaWZ5VG9rZW4iLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGVkIiwic3VjY2VzcyIsInJlc3BvbnNlQ29kZSIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxccHJvamVjdHNcXEFzc2lnbm1lbnRcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsicmVxVmFsaWRhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNjaGVtYVZhbGlkYXRpb24gPSByZXF1aXJlKFwiLi4vY29uZmlnL3NjaGVtYVZhbGlkYXRpb25cIik7XHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XHJcblxyXG5jb25zdCB2YWxpZGF0b3IgPSAocHJvcGVydHksIHBsYWNlID0gXCJib2R5XCIpID0+IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gc2NoZW1hVmFsaWRhdGlvbltwcm9wZXJ0eV0udmFsaWRhdGUocmVxW3BsYWNlXSwge1xyXG4gICAgICAgIGFib3J0RWFybHk6IGZhbHNlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IuZGV0YWlscy5tYXAoZGV0YWlsID0+IGRldGFpbC5tZXNzYWdlKS5qb2luKCc7ICcpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9KTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4gY29uc3QgdmVyaWZ5VG9rZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAvLyBDaGVjayBpZiB0aGUgYXV0aG9yaXphdGlvbiBoZWFkZXIgaXMgcHJlc2VudFxyXG4gIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl07XHJcbiAgaWYgKGF1dGhIZWFkZXIpIHtcclxuICAgIC8vIEV4dHJhY3QgdGhlIHRva2VuIGZyb20gdGhlIGF1dGhvcml6YXRpb24gaGVhZGVyXHJcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3BsaXQoXCIgXCIpWzFdO1xyXG5cclxuICAgIC8vIFZlcmlmeSB0aGUgdG9rZW5cclxuICAgIGp3dC52ZXJpZnkodG9rZW4sXCIxMjM0NTY3ODkyNTMyXCIsIChlcnIsIGRlY29kZWQpID0+IHtcclxuICAgICAgaWYgKGVycikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICByZXNwb25zZUNvZGU6IDQwMSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBUb2tlbiBpcyB2YWxpZCwgc3RvcmUgZGVjb2RlZCB0b2tlbiBpbiByZXF1ZXN0IG9iamVjdFxyXG4gICAgICAgIHJlcS5kZWNvZGVkID0gZGVjb2RlZDtcclxuICAgICAgICByZXEudXNlcklkID0gZGVjb2RlZC51c2VySWQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUb2tlbiB2ZXJpZnlcIixyZXEuZGVjb2RlZClcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBhdXRob3JpemF0aW9uIGhlYWRlciwgcmV0dXJuIDQwMSBVbmF1dGhvcml6ZWRcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICByZXNwb25zZUNvZGU6IDQwMSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzPXtcclxuICAgIHZhbGlkYXRvcixcclxuICAgIHZlcmlmeVRva2VuXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLDRCQUE0QixDQUFDO0FBQzlELE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUVuQyxNQUFNRSxTQUFTLEdBQUdBLENBQUNDLFFBQVEsRUFBRUMsS0FBSyxHQUFHLE1BQU0sS0FBSyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ2hFLE1BQU07SUFBRUM7RUFBTSxDQUFDLEdBQUdULGdCQUFnQixDQUFDSSxRQUFRLENBQUMsQ0FBQ00sUUFBUSxDQUFDSixHQUFHLENBQUNELEtBQUssQ0FBQyxFQUFFO0lBQzlETSxVQUFVLEVBQUU7RUFDaEIsQ0FBQyxDQUFDO0VBRUYsSUFBSSxDQUFDRixLQUFLLEVBQUU7SUFDUkQsSUFBSSxDQUFDLENBQUM7RUFDVixDQUFDLE1BQU07SUFDSCxNQUFNSSxZQUFZLEdBQUdILEtBQUssQ0FBQ0ksT0FBTyxDQUFDQyxHQUFHLENBQUNDLE1BQU0sSUFBSUEsTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMzRVYsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFVixLQUFLLEVBQUVHO0lBQWEsQ0FBQyxDQUFDO0VBQ2pEO0FBQ0osQ0FBQztBQUdBLE1BQU1RLFdBQVcsR0FBR0EsQ0FBQ2QsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUN2QztFQUNBLE1BQU1hLFVBQVUsR0FBR2YsR0FBRyxDQUFDZ0IsT0FBTyxDQUFDLGVBQWUsQ0FBQztFQUMvQyxJQUFJRCxVQUFVLEVBQUU7SUFDZDtJQUNBLE1BQU1FLEtBQUssR0FBR0YsVUFBVSxDQUFDRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUV0QztJQUNBdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDRixLQUFLLEVBQUMsZUFBZSxFQUFFLENBQUNHLEdBQUcsRUFBRUMsT0FBTyxLQUFLO01BQ2xELElBQUlELEdBQUcsRUFBRTtRQUNQLE9BQU9uQixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCSCxPQUFPLEVBQUUsY0FBYztVQUN2QlksT0FBTyxFQUFFLEtBQUs7VUFDZEMsWUFBWSxFQUFFO1FBQ2hCLENBQUMsQ0FBQztNQUNKLENBQUMsTUFBTTtRQUNMO1FBQ0F2QixHQUFHLENBQUNxQixPQUFPLEdBQUdBLE9BQU87UUFDckJyQixHQUFHLENBQUN3QixNQUFNLEdBQUdILE9BQU8sQ0FBQ0csTUFBTTtRQUMzQkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxFQUFDMUIsR0FBRyxDQUFDcUIsT0FBTyxDQUFDO1FBQ3ZDbkIsSUFBSSxDQUFDLENBQUM7TUFDUjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsTUFBTTtJQUNMO0lBQ0EsT0FBT0QsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkgsT0FBTyxFQUFFLGNBQWM7TUFDdkJZLE9BQU8sRUFBRSxLQUFLO01BQ2RDLFlBQVksRUFBRTtJQUNoQixDQUFDLENBQUM7RUFDSjtBQUNGLENBQUM7QUFFREksTUFBTSxDQUFDQyxPQUFPLEdBQUM7RUFDWC9CLFNBQVM7RUFDVGlCO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["schemaValidation","require","jwt","validator","property","place","req","res","next","error","validate","abortEarly","errorMessage","details","map","detail","message","join","status","json","verifyToken","authHeader","headers","token","split","verify","err","decoded","success","responseCode","userId","console","log","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\middlewares\\","sources":["reqValidator.js"],"sourcesContent":["const schemaValidation = require(\"../config/schemaValidation\");\r\nconst jwt = require(\"jsonwebtoken\");\r\n\r\nconst validator = (property, place = \"body\") => (req, res, next) => {\r\n    const { error } = schemaValidation[property].validate(req[place], {\r\n        abortEarly: false,\r\n    });\r\n\r\n    if (!error) {\r\n        next();\r\n    } else {\r\n        const errorMessage = error.details.map(detail => detail.message).join('; ');\r\n        res.status(400).json({ error: errorMessage });\r\n    }\r\n};\r\n\r\n\r\n const verifyToken = (req, res, next) => {\r\n  // Check if the authorization header is present\r\n  const authHeader = req.headers[\"authorization\"];\r\n  if (authHeader) {\r\n    // Extract the token from the authorization header\r\n    const token = authHeader.split(\" \")[1];\r\n\r\n    // Verify the token\r\n    jwt.verify(token,\"1234567892532\", (err, decoded) => {\r\n      if (err) {\r\n        return res.status(401).json({\r\n          message: \"Unauthorized\",\r\n          success: false,\r\n          responseCode: 401,\r\n        });\r\n      } else {\r\n        // Token is valid, store decoded token in request object\r\n        req.decoded = decoded;\r\n        req.userId = decoded.userId;\r\n        console.log(\"Token verify\",req.decoded)\r\n        next();\r\n      }\r\n    });\r\n  } else {\r\n    // If there is no authorization header, return 401 Unauthorized\r\n    return res.status(401).json({\r\n      message: \"Unauthorized\",\r\n      success: false,\r\n      responseCode: 401,\r\n    });\r\n  }\r\n};\r\n\r\nmodule.exports={\r\n    validator,\r\n    verifyToken\r\n}\r\n"],"mappings":"AAAA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,4BAA4B,CAAC;AAC9D,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAc,CAAC;AAEnC,MAAME,SAAS,GAAGA,CAACC,QAAQ,EAAEC,KAAK,GAAG,MAAM,KAAK,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAChE,MAAM;IAAEC;EAAM,CAAC,GAAGT,gBAAgB,CAACI,QAAQ,CAAC,CAACM,QAAQ,CAACJ,GAAG,CAACD,KAAK,CAAC,EAAE;IAC9DM,UAAU,EAAE;EAChB,CAAC,CAAC;EAEF,IAAI,CAACF,KAAK,EAAE;IACRD,IAAI,CAAC,CAAC;EACV,CAAC,MAAM;IACH,MAAMI,YAAY,GAAGH,KAAK,CAACI,OAAO,CAACC,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAC3EV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEV,KAAK,EAAEG;IAAa,CAAC,CAAC;EACjD;AACJ,CAAC;AAGA,MAAMQ,WAAW,GAAGA,CAACd,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACvC;EACA,MAAMa,UAAU,GAAGf,GAAG,CAACgB,OAAO,CAAC,eAAe,CAAC;EAC/C,IAAID,UAAU,EAAE;IACd;IACA,MAAME,KAAK,GAAGF,UAAU,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;IAEtC;IACAtB,GAAG,CAACuB,MAAM,CAACF,KAAK,EAAC,eAAe,EAAE,CAACG,GAAG,EAAEC,OAAO,KAAK;MAClD,IAAID,GAAG,EAAE;QACP,OAAOnB,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BH,OAAO,EAAE,cAAc;UACvBY,OAAO,EAAE,KAAK;UACdC,YAAY,EAAE;QAChB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL;QACAvB,GAAG,CAACqB,OAAO,GAAGA,OAAO;QACrBrB,GAAG,CAACwB,MAAM,GAAGH,OAAO,CAACG,MAAM;QAC3BC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAC1B,GAAG,CAACqB,OAAO,CAAC;QACvCnB,IAAI,CAAC,CAAC;MACR;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACL;IACA,OAAOD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BH,OAAO,EAAE,cAAc;MACvBY,OAAO,EAAE,KAAK;MACdC,YAAY,EAAE;IAChB,CAAC,CAAC;EACJ;AACF,CAAC;AAEDI,MAAM,CAACC,OAAO,GAAC;EACX/B,SAAS;EACTiB;AACJ,CAAC","ignoreList":[]}},"mtime":1720537711438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\config\\\\schemaValidation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const Joi = require(\"joi\");\nconst userRegister = Joi.object().keys({\n  firstName: Joi.string().required(),\n  lastName: Joi.string().allow(null, \"\").optional().empty(\"\"),\n  email: Joi.string().email().required(),\n  password: Joi.string().min(6).required(),\n  confirmPassword: Joi.string().allow(null, \"\").optional().empty(\"\"),\n  role: Joi.number().required().valid(0, 1, 2)\n});\nmodule.exports = {\n  userRegister\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidXNlclJlZ2lzdGVyIiwib2JqZWN0Iiwia2V5cyIsImZpcnN0TmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibGFzdE5hbWUiLCJhbGxvdyIsIm9wdGlvbmFsIiwiZW1wdHkiLCJlbWFpbCIsInBhc3N3b3JkIiwibWluIiwiY29uZmlybVBhc3N3b3JkIiwicm9sZSIsIm51bWJlciIsInZhbGlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHByb2plY3RzXFxBc3NpZ25tZW50XFxzcmNcXGNvbmZpZ1xcIiwic291cmNlcyI6WyJzY2hlbWFWYWxpZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBKb2kgPXJlcXVpcmUoXCJqb2lcIilcclxuIGNvbnN0IHVzZXJSZWdpc3Rlcj1Kb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5hbGxvdyhudWxsLCBcIlwiKS5vcHRpb25hbCgpLmVtcHR5KFwiXCIpLFxyXG4gICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXHJcbiAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig2KS5yZXF1aXJlZCgpLFxyXG4gICAgY29uZmlybVBhc3N3b3JkOkpvaS5zdHJpbmcoKS5hbGxvdyhudWxsLCBcIlwiKS5vcHRpb25hbCgpLmVtcHR5KFwiXCIpLFxyXG4gICAgcm9sZTpKb2kubnVtYmVyKCkucmVxdWlyZWQoKS52YWxpZCgwLCAxLDIpLFxyXG59KVxyXG5tb2R1bGUuZXhwb3J0cz17XHJcbiAgICB1c2VyUmVnaXN0ZXJcclxufSJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsR0FBRyxHQUFFQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ3hCLE1BQU1DLFlBQVksR0FBQ0YsR0FBRyxDQUFDRyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7RUFDbENDLFNBQVMsRUFBRUwsR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQztFQUNsQ0MsUUFBUSxFQUFFUixHQUFHLENBQUNNLE1BQU0sQ0FBQyxDQUFDLENBQUNHLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxFQUFFLENBQUM7RUFDM0RDLEtBQUssRUFBRVosR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDTSxLQUFLLENBQUMsQ0FBQyxDQUFDTCxRQUFRLENBQUMsQ0FBQztFQUN0Q00sUUFBUSxFQUFFYixHQUFHLENBQUNNLE1BQU0sQ0FBQyxDQUFDLENBQUNRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQ1AsUUFBUSxDQUFDLENBQUM7RUFDeENRLGVBQWUsRUFBQ2YsR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDRyxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUMsRUFBRSxDQUFDO0VBQ2pFSyxJQUFJLEVBQUNoQixHQUFHLENBQUNpQixNQUFNLENBQUMsQ0FBQyxDQUFDVixRQUFRLENBQUMsQ0FBQyxDQUFDVyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDO0FBQzdDLENBQUMsQ0FBQztBQUNGQyxNQUFNLENBQUNDLE9BQU8sR0FBQztFQUNYbEI7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Joi","require","userRegister","object","keys","firstName","string","required","lastName","allow","optional","empty","email","password","min","confirmPassword","role","number","valid","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\config\\","sources":["schemaValidation.js"],"sourcesContent":["\r\nconst Joi =require(\"joi\")\r\n const userRegister=Joi.object().keys({\r\n    firstName: Joi.string().required(),\r\n    lastName: Joi.string().allow(null, \"\").optional().empty(\"\"),\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().min(6).required(),\r\n    confirmPassword:Joi.string().allow(null, \"\").optional().empty(\"\"),\r\n    role:Joi.number().required().valid(0, 1,2),\r\n})\r\nmodule.exports={\r\n    userRegister\r\n}"],"mappings":"AACA,MAAMA,GAAG,GAAEC,OAAO,CAAC,KAAK,CAAC;AACxB,MAAMC,YAAY,GAACF,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;EAClCC,SAAS,EAAEL,GAAG,CAACM,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAClCC,QAAQ,EAAER,GAAG,CAACM,MAAM,CAAC,CAAC,CAACG,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,EAAE,CAAC;EAC3DC,KAAK,EAAEZ,GAAG,CAACM,MAAM,CAAC,CAAC,CAACM,KAAK,CAAC,CAAC,CAACL,QAAQ,CAAC,CAAC;EACtCM,QAAQ,EAAEb,GAAG,CAACM,MAAM,CAAC,CAAC,CAACQ,GAAG,CAAC,CAAC,CAAC,CAACP,QAAQ,CAAC,CAAC;EACxCQ,eAAe,EAACf,GAAG,CAACM,MAAM,CAAC,CAAC,CAACG,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,EAAE,CAAC;EACjEK,IAAI,EAAChB,GAAG,CAACiB,MAAM,CAAC,CAAC,CAACV,QAAQ,CAAC,CAAC,CAACW,KAAK,CAAC,CAAC,EAAE,CAAC,EAAC,CAAC;AAC7C,CAAC,CAAC;AACFC,MAAM,CAACC,OAAO,GAAC;EACXlB;AACJ,CAAC","ignoreList":[]}},"mtime":1720533796180},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\seeders\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\seeders\\\\admin.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const user = require('../models/userSchema');\nconst bcrypt = require(\"bcrypt\");\nconst AdminSeed = async (req, res, next) => {\n  const IsAdmin = await user.findOne({\n    email: \"admin@gmail.com\",\n    role: 1\n  });\n  if (!IsAdmin) {\n    const hashedNumber = await bcrypt.hash(`${12345678}`, 1);\n    const admin = await user.create({\n      firstName: \"Admin\",\n      email: \"admin@gmail.com\",\n      password: hashedNumber,\n      role: 1\n    });\n    await admin.save();\n    next();\n  } else {\n    next();\n  }\n};\nmodule.exports = AdminSeed;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyIiwicmVxdWlyZSIsImJjcnlwdCIsIkFkbWluU2VlZCIsInJlcSIsInJlcyIsIm5leHQiLCJJc0FkbWluIiwiZmluZE9uZSIsImVtYWlsIiwicm9sZSIsImhhc2hlZE51bWJlciIsImhhc2giLCJhZG1pbiIsImNyZWF0ZSIsImZpcnN0TmFtZSIsInBhc3N3b3JkIiwic2F2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxwcm9qZWN0c1xcQXNzaWdubWVudFxcc3JjXFxzZWVkZXJzXFwiLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVzZXI9cmVxdWlyZSgnLi4vbW9kZWxzL3VzZXJTY2hlbWEnKVxyXG5jb25zdCBiY3J5cHQ9cmVxdWlyZShcImJjcnlwdFwiKVxyXG5jb25zdCBBZG1pblNlZWQ9YXN5bmMocmVxLHJlcyxuZXh0KT0+e1xyXG4gY29uc3QgSXNBZG1pbj1hd2FpdCB1c2VyLmZpbmRPbmUoe2VtYWlsOlwiYWRtaW5AZ21haWwuY29tXCIsIHJvbGU6MX0pXHJcbiBpZiAoIUlzQWRtaW4pe1xyXG4gICAgY29uc3QgaGFzaGVkTnVtYmVyID0gYXdhaXQgYmNyeXB0Lmhhc2goYCR7MTIzNDU2Nzh9YCwgMSk7XHJcbiAgICBjb25zdCBhZG1pbj1hd2FpdCB1c2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgZmlyc3ROYW1lOlwiQWRtaW5cIixcclxuICAgICAgICBlbWFpbDpcImFkbWluQGdtYWlsLmNvbVwiLFxyXG4gICAgICAgIHBhc3N3b3JkOmhhc2hlZE51bWJlcixcclxuICAgICAgICByb2xlOjFcclxuICAgIH0pXHJcbiAgYXdhaXQgYWRtaW4uc2F2ZSgpXHJcbiAgbmV4dCgpO1xyXG4gfVxyXG4gZWxzZXtcclxuICAgIG5leHQoKTtcclxuIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cz1BZG1pblNlZWQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBQ0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQzFDLE1BQU1DLE1BQU0sR0FBQ0QsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUM5QixNQUFNRSxTQUFTLEdBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBRztFQUNwQyxNQUFNQyxPQUFPLEdBQUMsTUFBTVAsSUFBSSxDQUFDUSxPQUFPLENBQUM7SUFBQ0MsS0FBSyxFQUFDLGlCQUFpQjtJQUFFQyxJQUFJLEVBQUM7RUFBQyxDQUFDLENBQUM7RUFDbkUsSUFBSSxDQUFDSCxPQUFPLEVBQUM7SUFDVixNQUFNSSxZQUFZLEdBQUcsTUFBTVQsTUFBTSxDQUFDVSxJQUFJLENBQUMsR0FBRyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEQsTUFBTUMsS0FBSyxHQUFDLE1BQU1iLElBQUksQ0FBQ2MsTUFBTSxDQUFDO01BQzFCQyxTQUFTLEVBQUMsT0FBTztNQUNqQk4sS0FBSyxFQUFDLGlCQUFpQjtNQUN2Qk8sUUFBUSxFQUFDTCxZQUFZO01BQ3JCRCxJQUFJLEVBQUM7SUFDVCxDQUFDLENBQUM7SUFDSixNQUFNRyxLQUFLLENBQUNJLElBQUksQ0FBQyxDQUFDO0lBQ2xCWCxJQUFJLENBQUMsQ0FBQztFQUNQLENBQUMsTUFDRztJQUNEQSxJQUFJLENBQUMsQ0FBQztFQUNUO0FBQ0QsQ0FBQztBQUNEWSxNQUFNLENBQUNDLE9BQU8sR0FBQ2hCLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user","require","bcrypt","AdminSeed","req","res","next","IsAdmin","findOne","email","role","hashedNumber","hash","admin","create","firstName","password","save","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\seeders\\","sources":["admin.js"],"sourcesContent":["const user=require('../models/userSchema')\r\nconst bcrypt=require(\"bcrypt\")\r\nconst AdminSeed=async(req,res,next)=>{\r\n const IsAdmin=await user.findOne({email:\"admin@gmail.com\", role:1})\r\n if (!IsAdmin){\r\n    const hashedNumber = await bcrypt.hash(`${12345678}`, 1);\r\n    const admin=await user.create({\r\n        firstName:\"Admin\",\r\n        email:\"admin@gmail.com\",\r\n        password:hashedNumber,\r\n        role:1\r\n    })\r\n  await admin.save()\r\n  next();\r\n }\r\n else{\r\n    next();\r\n }\r\n}\r\nmodule.exports=AdminSeed"],"mappings":"AAAA,MAAMA,IAAI,GAACC,OAAO,CAAC,sBAAsB,CAAC;AAC1C,MAAMC,MAAM,GAACD,OAAO,CAAC,QAAQ,CAAC;AAC9B,MAAME,SAAS,GAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;EACpC,MAAMC,OAAO,GAAC,MAAMP,IAAI,CAACQ,OAAO,CAAC;IAACC,KAAK,EAAC,iBAAiB;IAAEC,IAAI,EAAC;EAAC,CAAC,CAAC;EACnE,IAAI,CAACH,OAAO,EAAC;IACV,MAAMI,YAAY,GAAG,MAAMT,MAAM,CAACU,IAAI,CAAC,GAAG,QAAQ,EAAE,EAAE,CAAC,CAAC;IACxD,MAAMC,KAAK,GAAC,MAAMb,IAAI,CAACc,MAAM,CAAC;MAC1BC,SAAS,EAAC,OAAO;MACjBN,KAAK,EAAC,iBAAiB;MACvBO,QAAQ,EAACL,YAAY;MACrBD,IAAI,EAAC;IACT,CAAC,CAAC;IACJ,MAAMG,KAAK,CAACI,IAAI,CAAC,CAAC;IAClBX,IAAI,CAAC,CAAC;EACP,CAAC,MACG;IACDA,IAAI,CAAC,CAAC;EACT;AACD,CAAC;AACDY,MAAM,CAACC,OAAO,GAAChB,SAAS","ignoreList":[]}},"mtime":1720538671663},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\projects\\\\Assignment\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\projects\\\\Assignment\",\"filename\":\"D:\\\\projects\\\\Assignment\\\\src\\\\models\\\\userSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\projects\\\\Assignment\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const mongoose = require('mongoose');\nconst validator = require('validator');\nconst userSchema = new mongoose.Schema({\n  firstName: {\n    type: String,\n    trim: true\n  },\n  lastName: {\n    type: String,\n    trim: true\n  },\n  email: {\n    type: String,\n    unique: true,\n    trim: true,\n    validate: {\n      validator: validator.isEmail,\n      message: props => `${props.value} is not a valid email address!`\n    }\n  },\n  password: {\n    type: String,\n    trim: true\n  },\n  role: {\n    type: Number\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nconst User = mongoose.model('User', userSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ2YWxpZGF0b3IiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwiZmlyc3ROYW1lIiwidHlwZSIsIlN0cmluZyIsInRyaW0iLCJsYXN0TmFtZSIsImVtYWlsIiwidW5pcXVlIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwibWVzc2FnZSIsInByb3BzIiwidmFsdWUiLCJwYXNzd29yZCIsInJvbGUiLCJOdW1iZXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxwcm9qZWN0c1xcQXNzaWdubWVudFxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlclNjaGVtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IHZhbGlkYXRvcj1yZXF1aXJlKCd2YWxpZGF0b3InKVxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBmaXJzdE5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdHJpbTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGxhc3ROYW1lOntcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdHJpbTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGVtYWlsOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdG9yLmlzRW1haWwsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IHByb3BzID0+IGAke3Byb3BzLnZhbHVlfSBpcyBub3QgYSB2YWxpZCBlbWFpbCBhZGRyZXNzIWBcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHRyaW06IHRydWVcclxuICAgIH0sXHJcbiAgICByb2xlOntcclxuICAgICAgdHlwZTpOdW1iZXIsXHJcbiAgICAgIFxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWRBdDoge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVXNlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUMsU0FBUyxHQUFDRCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1FLFVBQVUsR0FBRyxJQUFJSCxRQUFRLENBQUNJLE1BQU0sQ0FBQztFQUNuQ0MsU0FBUyxFQUFFO0lBQ1BDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxJQUFJLEVBQUU7RUFDVixDQUFDO0VBQ0RDLFFBQVEsRUFBQztJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsSUFBSSxFQUFFO0VBQ1YsQ0FBQztFQUNERSxLQUFLLEVBQUU7SUFDSEosSUFBSSxFQUFFQyxNQUFNO0lBQ1pJLE1BQU0sRUFBRSxJQUFJO0lBQ1pILElBQUksRUFBRSxJQUFJO0lBQ1ZJLFFBQVEsRUFBRTtNQUNOVixTQUFTLEVBQUVBLFNBQVMsQ0FBQ1csT0FBTztNQUM1QkMsT0FBTyxFQUFFQyxLQUFLLElBQUksR0FBR0EsS0FBSyxDQUFDQyxLQUFLO0lBQ3BDO0VBRUosQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFDTlgsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLElBQUksRUFBRTtFQUNWLENBQUM7RUFDRFUsSUFBSSxFQUFDO0lBQ0haLElBQUksRUFBQ2E7RUFFUCxDQUFDO0VBQ0RDLFNBQVMsRUFBRTtJQUNQZCxJQUFJLEVBQUVlLElBQUk7SUFDVkMsT0FBTyxFQUFFRCxJQUFJLENBQUNFO0VBQ2xCO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTUMsSUFBSSxHQUFHeEIsUUFBUSxDQUFDeUIsS0FBSyxDQUFDLE1BQU0sRUFBRXRCLFVBQVUsQ0FBQztBQUUvQ3VCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["mongoose","require","validator","userSchema","Schema","firstName","type","String","trim","lastName","email","unique","validate","isEmail","message","props","value","password","role","Number","createdAt","Date","default","now","User","model","module","exports"],"sourceRoot":"D:\\projects\\Assignment\\src\\models\\","sources":["userSchema.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst validator=require('validator')\r\nconst userSchema = new mongoose.Schema({\r\n    firstName: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    lastName:{\r\n        type: String,\r\n        trim: true\r\n    },\r\n    email: {\r\n        type: String,\r\n        unique: true,\r\n        trim: true,\r\n        validate: {\r\n            validator: validator.isEmail,\r\n            message: props => `${props.value} is not a valid email address!`\r\n        }\r\n\r\n    },\r\n    password: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    role:{\r\n      type:Number,\r\n      \r\n    },\r\n    createdAt: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nconst User = mongoose.model('User', userSchema);\r\n\r\nmodule.exports = User;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,SAAS,GAACD,OAAO,CAAC,WAAW,CAAC;AACpC,MAAME,UAAU,GAAG,IAAIH,QAAQ,CAACI,MAAM,CAAC;EACnCC,SAAS,EAAE;IACPC,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDC,QAAQ,EAAC;IACLH,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDE,KAAK,EAAE;IACHJ,IAAI,EAAEC,MAAM;IACZI,MAAM,EAAE,IAAI;IACZH,IAAI,EAAE,IAAI;IACVI,QAAQ,EAAE;MACNV,SAAS,EAAEA,SAAS,CAACW,OAAO;MAC5BC,OAAO,EAAEC,KAAK,IAAI,GAAGA,KAAK,CAACC,KAAK;IACpC;EAEJ,CAAC;EACDC,QAAQ,EAAE;IACNX,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDU,IAAI,EAAC;IACHZ,IAAI,EAACa;EAEP,CAAC;EACDC,SAAS,EAAE;IACPd,IAAI,EAAEe,IAAI;IACVC,OAAO,EAAED,IAAI,CAACE;EAClB;AACJ,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGxB,QAAQ,CAACyB,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAE/CuB,MAAM,CAACC,OAAO,GAAGH,IAAI","ignoreList":[]}},"mtime":1720532001718},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const dotenv = require('dotenv');\ndotenv.config();\nconst express = require('express');\nconst app = express();\nconst cors = require(\"cors\");\nconst connectDB = require('./config/db');\nconst bodyparser = require(\"body-parser\");\napp.use(cors());\napp.use(bodyparser.urlencoded({\n  extended: true\n}));\napp.use(bodyparser.json());\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n}));\nconst port = 8080;\n\n// Middleware to parse JSON bodies\napp.use(express.json());\napp.use(express.json({\n  limit: \"10mb\"\n}));\napp.use(\"/api\", require(\"./routes/index\"));\n// Define a simple route\napp.get('/', (req, res) => {\n  res.send('Hello, World!');\n});\nconst startServer = async () => {\n  try {\n    connectDB(process.env.MONGODB_URL);\n    app.listen(port, () => console.log(`Server started on port ${port}`));\n  } catch (error) {\n    console.log(error);\n  }\n};\nstartServer();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJyZXF1aXJlIiwiY29uZmlnIiwiZXhwcmVzcyIsImFwcCIsImNvcnMiLCJjb25uZWN0REIiLCJib2R5cGFyc2VyIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsInBvcnQiLCJsaW1pdCIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJzdGFydFNlcnZlciIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciJdLCJzb3VyY2VSb290IjoiRDpcXG5ldyBzb25nMjIgMDdcXFRhc2tcXHNyY1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKTtcclxuZG90ZW52LmNvbmZpZygpO1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKFwiY29yc1wiKTsgXHJcbmNvbnN0IGNvbm5lY3REQj1yZXF1aXJlKCcuL2NvbmZpZy9kYicpXHJcbmNvbnN0IGJvZHlwYXJzZXIgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XHJcbmFwcC51c2UoY29ycygpKVxyXG5hcHAudXNlKGJvZHlwYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuYXBwLnVzZShib2R5cGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuY29uc3QgcG9ydCA9IDgwODA7XHJcblxyXG4vLyBNaWRkbGV3YXJlIHRvIHBhcnNlIEpTT04gYm9kaWVzXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKHsgbGltaXQ6IFwiMTBtYlwiIH0pKTtcclxuYXBwLnVzZShcIi9hcGlcIiwgcmVxdWlyZShcIi4vcm91dGVzL2luZGV4XCIpKTtcclxuLy8gRGVmaW5lIGEgc2ltcGxlIHJvdXRlXHJcbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZCgnSGVsbG8sIFdvcmxkIScpO1xyXG59KTtcclxuY29uc3Qgc3RhcnRTZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbm5lY3REQihwcm9jZXNzLmVudi5NT05HT0RCX1VSTCk7XHJcbiAgICBhcHAubGlzdGVuKHBvcnQsICgpID0+IGNvbnNvbGUubG9nKGBTZXJ2ZXIgc3RhcnRlZCBvbiBwb3J0ICR7cG9ydH1gKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5zdGFydFNlcnZlcigpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQ0QsTUFBTSxDQUFDRSxNQUFNLENBQUMsQ0FBQztBQUNmLE1BQU1DLE9BQU8sR0FBR0YsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNRyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxDQUFDO0FBQ3JCLE1BQU1FLElBQUksR0FBR0osT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNSyxTQUFTLEdBQUNMLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDdEMsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3pDRyxHQUFHLENBQUNJLEdBQUcsQ0FBQ0gsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNmRCxHQUFHLENBQUNJLEdBQUcsQ0FBQ0QsVUFBVSxDQUFDRSxVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQUM7QUFDbEROLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDRCxVQUFVLENBQUNJLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUJQLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDTCxPQUFPLENBQUNRLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDdkJQLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDTCxPQUFPLENBQUNNLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBSyxDQUFDLENBQUMsQ0FBQztBQUMvQyxNQUFNRSxJQUFJLEdBQUcsSUFBSTs7QUFFakI7QUFDQVIsR0FBRyxDQUFDSSxHQUFHLENBQUNMLE9BQU8sQ0FBQ1EsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUd2QlAsR0FBRyxDQUFDSSxHQUFHLENBQUNMLE9BQU8sQ0FBQ1EsSUFBSSxDQUFDO0VBQUVFLEtBQUssRUFBRTtBQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ3hDVCxHQUFHLENBQUNJLEdBQUcsQ0FBQyxNQUFNLEVBQUVQLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzFDO0FBQ0FHLEdBQUcsQ0FBQ1UsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QkEsR0FBRyxDQUFDQyxJQUFJLENBQUMsZUFBZSxDQUFDO0FBQzNCLENBQUMsQ0FBQztBQUNGLE1BQU1DLFdBQVcsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDOUIsSUFBSTtJQUNGWixTQUFTLENBQUNhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLENBQUM7SUFDbENqQixHQUFHLENBQUNrQixNQUFNLENBQUNWLElBQUksRUFBRSxNQUFNVyxPQUFPLENBQUNDLEdBQUcsQ0FBQywwQkFBMEJaLElBQUksRUFBRSxDQUFDLENBQUM7RUFDdkUsQ0FBQyxDQUFDLE9BQU9hLEtBQUssRUFBRTtJQUNkRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQztBQUVEUCxXQUFXLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["dotenv","require","config","express","app","cors","connectDB","bodyparser","use","urlencoded","extended","json","port","limit","get","req","res","send","startServer","process","env","MONGODB_URL","listen","console","log","error"],"sourceRoot":"D:\\new song22 07\\Task\\src\\","sources":["index.js"],"sourcesContent":["const dotenv = require('dotenv');\r\ndotenv.config();\r\nconst express = require('express');\r\nconst app = express();\r\nconst cors = require(\"cors\"); \r\nconst connectDB=require('./config/db')\r\nconst bodyparser = require(\"body-parser\");\r\napp.use(cors())\r\napp.use(bodyparser.urlencoded({ extended: true }));\r\napp.use(bodyparser.json());\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\nconst port = 8080;\r\n\r\n// Middleware to parse JSON bodies\r\napp.use(express.json());\r\n\r\n\r\napp.use(express.json({ limit: \"10mb\" }));\r\napp.use(\"/api\", require(\"./routes/index\"));\r\n// Define a simple route\r\napp.get('/', (req, res) => {\r\n  res.send('Hello, World!');\r\n});\r\nconst startServer = async () => {\r\n  try {\r\n    connectDB(process.env.MONGODB_URL);\r\n    app.listen(port, () => console.log(`Server started on port ${port}`));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nstartServer();\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChCD,MAAM,CAACE,MAAM,CAAC,CAAC;AACf,MAAMC,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMG,GAAG,GAAGD,OAAO,CAAC,CAAC;AACrB,MAAME,IAAI,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMK,SAAS,GAACL,OAAO,CAAC,aAAa,CAAC;AACtC,MAAMM,UAAU,GAAGN,OAAO,CAAC,aAAa,CAAC;AACzCG,GAAG,CAACI,GAAG,CAACH,IAAI,CAAC,CAAC,CAAC;AACfD,GAAG,CAACI,GAAG,CAACD,UAAU,CAACE,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAClDN,GAAG,CAACI,GAAG,CAACD,UAAU,CAACI,IAAI,CAAC,CAAC,CAAC;AAC1BP,GAAG,CAACI,GAAG,CAACL,OAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AACvBP,GAAG,CAACI,GAAG,CAACL,OAAO,CAACM,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/C,MAAME,IAAI,GAAG,IAAI;;AAEjB;AACAR,GAAG,CAACI,GAAG,CAACL,OAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AAGvBP,GAAG,CAACI,GAAG,CAACL,OAAO,CAACQ,IAAI,CAAC;EAAEE,KAAK,EAAE;AAAO,CAAC,CAAC,CAAC;AACxCT,GAAG,CAACI,GAAG,CAAC,MAAM,EAAEP,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC1C;AACAG,GAAG,CAACU,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACC,IAAI,CAAC,eAAe,CAAC;AAC3B,CAAC,CAAC;AACF,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI;IACFZ,SAAS,CAACa,OAAO,CAACC,GAAG,CAACC,WAAW,CAAC;IAClCjB,GAAG,CAACkB,MAAM,CAACV,IAAI,EAAE,MAAMW,OAAO,CAACC,GAAG,CAAC,0BAA0BZ,IAAI,EAAE,CAAC,CAAC;EACvE,CAAC,CAAC,OAAOa,KAAK,EAAE;IACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EACpB;AACF,CAAC;AAEDP,WAAW,CAAC,CAAC","ignoreList":[]}},"mtime":1720533184396},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\config\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst AdminSeed = require(\"../seeders/admin\");\nconst connectDB = () => {\n  mongoose.set('strictQuery', true);\n  const uri = process.env.MONGODB_URL; // MongoDB URI\n  mongoose.connect(`${uri}/Assignment`).then(() => {\n    console.log('Connected to MongoDB');\n    AdminSeed(null, null, () => {});\n  }).catch(err => {\n    console.error('Failed to connect to MongoDB');\n    console.error(err);\n  });\n};\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJBZG1pblNlZWQiLCJjb25uZWN0REIiLCJzZXQiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkwiLCJjb25uZWN0IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXG5ldyBzb25nMjIgMDdcXFRhc2tcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzIjpbImRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlPXJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuY29uc3QgQWRtaW5TZWVkID0gcmVxdWlyZShcIi4uL3NlZWRlcnMvYWRtaW5cIik7XHJcbmNvbnN0IGNvbm5lY3REQiA9KCkgPT4ge1xyXG4gIG1vbmdvb3NlLnNldCgnc3RyaWN0UXVlcnknLCB0cnVlKTtcclxuICBjb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSTDsgLy8gTW9uZ29EQiBVUklcclxuICBtb25nb29zZS5jb25uZWN0KGAke3VyaX0vQXNzaWdubWVudGApXHJcbiAgICAudGhlbigoKSA9PiBcclxuICAgIHtcclxuICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJylcclxuICAgICAgQWRtaW5TZWVkKG51bGwsIG51bGwsICgpID0+IHt9KTtcclxuICAgIH1cclxuICApXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCB0byBNb25nb0RCJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHM9IGNvbm5lY3REQjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUNDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMsTUFBTUMsU0FBUyxHQUFHRCxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDN0MsTUFBTUUsU0FBUyxHQUFFQSxDQUFBLEtBQU07RUFDckJILFFBQVEsQ0FBQ0ksR0FBRyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUM7RUFDakMsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7RUFDckNSLFFBQVEsQ0FBQ1MsT0FBTyxDQUFDLEdBQUdKLEdBQUcsYUFBYSxDQUFDLENBQ2xDSyxJQUFJLENBQUMsTUFDTjtJQUNFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQztJQUNuQ1YsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztFQUNqQyxDQUNGLENBQUMsQ0FDRVcsS0FBSyxDQUFFQyxHQUFHLElBQUs7SUFDZEgsT0FBTyxDQUFDSSxLQUFLLENBQUMsOEJBQThCLENBQUM7SUFDN0NKLE9BQU8sQ0FBQ0ksS0FBSyxDQUFDRCxHQUFHLENBQUM7RUFDcEIsQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQUVERSxNQUFNLENBQUNDLE9BQU8sR0FBRWQsU0FBUyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["mongoose","require","AdminSeed","connectDB","set","uri","process","env","MONGODB_URL","connect","then","console","log","catch","err","error","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\config\\","sources":["db.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\nconst AdminSeed = require(\"../seeders/admin\");\r\nconst connectDB =() => {\r\n  mongoose.set('strictQuery', true);\r\n  const uri = process.env.MONGODB_URL; // MongoDB URI\r\n  mongoose.connect(`${uri}/Assignment`)\r\n    .then(() => \r\n    {\r\n      console.log('Connected to MongoDB')\r\n      AdminSeed(null, null, () => {});\r\n    }\r\n  )\r\n    .catch((err) => {\r\n      console.error('Failed to connect to MongoDB');\r\n      console.error(err);\r\n    });\r\n};\r\n\r\nmodule.exports= connectDB;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,SAAS,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AAC7C,MAAME,SAAS,GAAEA,CAAA,KAAM;EACrBH,QAAQ,CAACI,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC;EACjC,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,CAAC,CAAC;EACrCR,QAAQ,CAACS,OAAO,CAAC,GAAGJ,GAAG,aAAa,CAAC,CAClCK,IAAI,CAAC,MACN;IACEC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnCV,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;EACjC,CACF,CAAC,CACEW,KAAK,CAAEC,GAAG,IAAK;IACdH,OAAO,CAACI,KAAK,CAAC,8BAA8B,CAAC;IAC7CJ,OAAO,CAACI,KAAK,CAACD,GAAG,CAAC;EACpB,CAAC,CAAC;AACN,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAEd,SAAS","ignoreList":[]}},"mtime":1720538379852},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\seeders\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\seeders\\\\admin.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const user = require('../models/userSchema');\nconst bcrypt = require(\"bcrypt\");\nconst AdminSeed = async (req, res, next) => {\n  const IsAdmin = await user.findOne({\n    email: \"admin@gmail.com\",\n    role: 1\n  });\n  if (!IsAdmin) {\n    const hashedNumber = await bcrypt.hash(`${12345678}`, 1);\n    const admin = await user.create({\n      firstName: \"Admin\",\n      email: \"admin@gmail.com\",\n      password: hashedNumber,\n      role: 1\n    });\n    await admin.save();\n    next();\n  } else {\n    next();\n  }\n};\nmodule.exports = AdminSeed;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyIiwicmVxdWlyZSIsImJjcnlwdCIsIkFkbWluU2VlZCIsInJlcSIsInJlcyIsIm5leHQiLCJJc0FkbWluIiwiZmluZE9uZSIsImVtYWlsIiwicm9sZSIsImhhc2hlZE51bWJlciIsImhhc2giLCJhZG1pbiIsImNyZWF0ZSIsImZpcnN0TmFtZSIsInBhc3N3b3JkIiwic2F2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxuZXcgc29uZzIyIDA3XFxUYXNrXFxzcmNcXHNlZWRlcnNcXCIsInNvdXJjZXMiOlsiYWRtaW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdXNlcj1yZXF1aXJlKCcuLi9tb2RlbHMvdXNlclNjaGVtYScpXHJcbmNvbnN0IGJjcnlwdD1yZXF1aXJlKFwiYmNyeXB0XCIpXHJcbmNvbnN0IEFkbWluU2VlZD1hc3luYyhyZXEscmVzLG5leHQpPT57XHJcbiBjb25zdCBJc0FkbWluPWF3YWl0IHVzZXIuZmluZE9uZSh7ZW1haWw6XCJhZG1pbkBnbWFpbC5jb21cIiwgcm9sZToxfSlcclxuIGlmICghSXNBZG1pbil7XHJcbiAgICBjb25zdCBoYXNoZWROdW1iZXIgPSBhd2FpdCBiY3J5cHQuaGFzaChgJHsxMjM0NTY3OH1gLCAxKTtcclxuICAgIGNvbnN0IGFkbWluPWF3YWl0IHVzZXIuY3JlYXRlKHtcclxuICAgICAgICBmaXJzdE5hbWU6XCJBZG1pblwiLFxyXG4gICAgICAgIGVtYWlsOlwiYWRtaW5AZ21haWwuY29tXCIsXHJcbiAgICAgICAgcGFzc3dvcmQ6aGFzaGVkTnVtYmVyLFxyXG4gICAgICAgIHJvbGU6MVxyXG4gICAgfSlcclxuICBhd2FpdCBhZG1pbi5zYXZlKClcclxuICBuZXh0KCk7XHJcbiB9XHJcbiBlbHNle1xyXG4gICAgbmV4dCgpO1xyXG4gfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzPUFkbWluU2VlZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFDQyxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFDMUMsTUFBTUMsTUFBTSxHQUFDRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQzlCLE1BQU1FLFNBQVMsR0FBQyxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFHO0VBQ3BDLE1BQU1DLE9BQU8sR0FBQyxNQUFNUCxJQUFJLENBQUNRLE9BQU8sQ0FBQztJQUFDQyxLQUFLLEVBQUMsaUJBQWlCO0lBQUVDLElBQUksRUFBQztFQUFDLENBQUMsQ0FBQztFQUNuRSxJQUFJLENBQUNILE9BQU8sRUFBQztJQUNWLE1BQU1JLFlBQVksR0FBRyxNQUFNVCxNQUFNLENBQUNVLElBQUksQ0FBQyxHQUFHLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN4RCxNQUFNQyxLQUFLLEdBQUMsTUFBTWIsSUFBSSxDQUFDYyxNQUFNLENBQUM7TUFDMUJDLFNBQVMsRUFBQyxPQUFPO01BQ2pCTixLQUFLLEVBQUMsaUJBQWlCO01BQ3ZCTyxRQUFRLEVBQUNMLFlBQVk7TUFDckJELElBQUksRUFBQztJQUNULENBQUMsQ0FBQztJQUNKLE1BQU1HLEtBQUssQ0FBQ0ksSUFBSSxDQUFDLENBQUM7SUFDbEJYLElBQUksQ0FBQyxDQUFDO0VBQ1AsQ0FBQyxNQUNHO0lBQ0RBLElBQUksQ0FBQyxDQUFDO0VBQ1Q7QUFDRCxDQUFDO0FBQ0RZLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDaEIsU0FBUyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["user","require","bcrypt","AdminSeed","req","res","next","IsAdmin","findOne","email","role","hashedNumber","hash","admin","create","firstName","password","save","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\seeders\\","sources":["admin.js"],"sourcesContent":["const user=require('../models/userSchema')\r\nconst bcrypt=require(\"bcrypt\")\r\nconst AdminSeed=async(req,res,next)=>{\r\n const IsAdmin=await user.findOne({email:\"admin@gmail.com\", role:1})\r\n if (!IsAdmin){\r\n    const hashedNumber = await bcrypt.hash(`${12345678}`, 1);\r\n    const admin=await user.create({\r\n        firstName:\"Admin\",\r\n        email:\"admin@gmail.com\",\r\n        password:hashedNumber,\r\n        role:1\r\n    })\r\n  await admin.save()\r\n  next();\r\n }\r\n else{\r\n    next();\r\n }\r\n}\r\nmodule.exports=AdminSeed"],"mappings":"AAAA,MAAMA,IAAI,GAACC,OAAO,CAAC,sBAAsB,CAAC;AAC1C,MAAMC,MAAM,GAACD,OAAO,CAAC,QAAQ,CAAC;AAC9B,MAAME,SAAS,GAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;EACpC,MAAMC,OAAO,GAAC,MAAMP,IAAI,CAACQ,OAAO,CAAC;IAACC,KAAK,EAAC,iBAAiB;IAAEC,IAAI,EAAC;EAAC,CAAC,CAAC;EACnE,IAAI,CAACH,OAAO,EAAC;IACV,MAAMI,YAAY,GAAG,MAAMT,MAAM,CAACU,IAAI,CAAC,GAAG,QAAQ,EAAE,EAAE,CAAC,CAAC;IACxD,MAAMC,KAAK,GAAC,MAAMb,IAAI,CAACc,MAAM,CAAC;MAC1BC,SAAS,EAAC,OAAO;MACjBN,KAAK,EAAC,iBAAiB;MACvBO,QAAQ,EAACL,YAAY;MACrBD,IAAI,EAAC;IACT,CAAC,CAAC;IACJ,MAAMG,KAAK,CAACI,IAAI,CAAC,CAAC;IAClBX,IAAI,CAAC,CAAC;EACP,CAAC,MACG;IACDA,IAAI,CAAC,CAAC;EACT;AACD,CAAC;AACDY,MAAM,CAACC,OAAO,GAAChB,SAAS","ignoreList":[]}},"mtime":1720538671663},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\models\\\\userSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const mongoose = require('mongoose');\nconst validator = require('validator');\nconst userSchema = new mongoose.Schema({\n  firstName: {\n    type: String,\n    trim: true\n  },\n  lastName: {\n    type: String,\n    trim: true\n  },\n  email: {\n    type: String,\n    unique: true,\n    trim: true,\n    validate: {\n      validator: validator.isEmail,\n      message: props => `${props.value} is not a valid email address!`\n    }\n  },\n  password: {\n    type: String,\n    trim: true\n  },\n  role: {\n    type: Number\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nconst User = mongoose.model('User', userSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ2YWxpZGF0b3IiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwiZmlyc3ROYW1lIiwidHlwZSIsIlN0cmluZyIsInRyaW0iLCJsYXN0TmFtZSIsImVtYWlsIiwidW5pcXVlIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwibWVzc2FnZSIsInByb3BzIiwidmFsdWUiLCJwYXNzd29yZCIsInJvbGUiLCJOdW1iZXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxuZXcgc29uZzIyIDA3XFxUYXNrXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c2VyU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgdmFsaWRhdG9yPXJlcXVpcmUoJ3ZhbGlkYXRvcicpXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICAgIGZpcnN0TmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgbGFzdE5hbWU6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgZW1haWw6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgICAgdmFsaWRhdGU6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuaXNFbWFpbCxcclxuICAgICAgICAgICAgbWVzc2FnZTogcHJvcHMgPT4gYCR7cHJvcHMudmFsdWV9IGlzIG5vdCBhIHZhbGlkIGVtYWlsIGFkZHJlc3MhYFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdHJpbTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHJvbGU6e1xyXG4gICAgICB0eXBlOk51bWJlcixcclxuICAgICAgXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZEF0OiB7XHJcbiAgICAgICAgdHlwZTogRGF0ZSxcclxuICAgICAgICBkZWZhdWx0OiBEYXRlLm5vd1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxTQUFTLEdBQUNELE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUUsVUFBVSxHQUFHLElBQUlILFFBQVEsQ0FBQ0ksTUFBTSxDQUFDO0VBQ25DQyxTQUFTLEVBQUU7SUFDUEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLElBQUksRUFBRTtFQUNWLENBQUM7RUFDREMsUUFBUSxFQUFDO0lBQ0xILElBQUksRUFBRUMsTUFBTTtJQUNaQyxJQUFJLEVBQUU7RUFDVixDQUFDO0VBQ0RFLEtBQUssRUFBRTtJQUNISixJQUFJLEVBQUVDLE1BQU07SUFDWkksTUFBTSxFQUFFLElBQUk7SUFDWkgsSUFBSSxFQUFFLElBQUk7SUFDVkksUUFBUSxFQUFFO01BQ05WLFNBQVMsRUFBRUEsU0FBUyxDQUFDVyxPQUFPO01BQzVCQyxPQUFPLEVBQUVDLEtBQUssSUFBSSxHQUFHQSxLQUFLLENBQUNDLEtBQUs7SUFDcEM7RUFFSixDQUFDO0VBQ0RDLFFBQVEsRUFBRTtJQUNOWCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsSUFBSSxFQUFFO0VBQ1YsQ0FBQztFQUNEVSxJQUFJLEVBQUM7SUFDSFosSUFBSSxFQUFDYTtFQUVQLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1BkLElBQUksRUFBRWUsSUFBSTtJQUNWQyxPQUFPLEVBQUVELElBQUksQ0FBQ0U7RUFDbEI7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUd4QixRQUFRLENBQUN5QixLQUFLLENBQUMsTUFBTSxFQUFFdEIsVUFBVSxDQUFDO0FBRS9DdUIsTUFBTSxDQUFDQyxPQUFPLEdBQUdILElBQUkiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["mongoose","require","validator","userSchema","Schema","firstName","type","String","trim","lastName","email","unique","validate","isEmail","message","props","value","password","role","Number","createdAt","Date","default","now","User","model","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\models\\","sources":["userSchema.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst validator=require('validator')\r\nconst userSchema = new mongoose.Schema({\r\n    firstName: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    lastName:{\r\n        type: String,\r\n        trim: true\r\n    },\r\n    email: {\r\n        type: String,\r\n        unique: true,\r\n        trim: true,\r\n        validate: {\r\n            validator: validator.isEmail,\r\n            message: props => `${props.value} is not a valid email address!`\r\n        }\r\n\r\n    },\r\n    password: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    role:{\r\n      type:Number,\r\n      \r\n    },\r\n    createdAt: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nconst User = mongoose.model('User', userSchema);\r\n\r\nmodule.exports = User;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,SAAS,GAACD,OAAO,CAAC,WAAW,CAAC;AACpC,MAAME,UAAU,GAAG,IAAIH,QAAQ,CAACI,MAAM,CAAC;EACnCC,SAAS,EAAE;IACPC,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDC,QAAQ,EAAC;IACLH,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDE,KAAK,EAAE;IACHJ,IAAI,EAAEC,MAAM;IACZI,MAAM,EAAE,IAAI;IACZH,IAAI,EAAE,IAAI;IACVI,QAAQ,EAAE;MACNV,SAAS,EAAEA,SAAS,CAACW,OAAO;MAC5BC,OAAO,EAAEC,KAAK,IAAI,GAAGA,KAAK,CAACC,KAAK;IACpC;EAEJ,CAAC;EACDC,QAAQ,EAAE;IACNX,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDU,IAAI,EAAC;IACHZ,IAAI,EAACa;EAEP,CAAC;EACDC,SAAS,EAAE;IACPd,IAAI,EAAEe,IAAI;IACVC,OAAO,EAAED,IAAI,CAACE;EAClB;AACJ,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGxB,QAAQ,CAACyB,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAE/CuB,MAAM,CAACC,OAAO,GAAGH,IAAI","ignoreList":[]}},"mtime":1720532001718},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const Router = require(\"express\").Router();\nRouter.use(require(\"./user\"));\nRouter.use(require(\"./product\"));\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJyZXF1aXJlIiwidXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXG5ldyBzb25nMjIgMDdcXFRhc2tcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xyXG5cclxuUm91dGVyLnVzZShyZXF1aXJlKFwiLi91c2VyXCIpKTtcclxuUm91dGVyLnVzZShyZXF1aXJlKFwiLi9wcm9kdWN0XCIpKTtcclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUNELE1BQU0sQ0FBQyxDQUFDO0FBRTFDQSxNQUFNLENBQUNFLEdBQUcsQ0FBQ0QsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzdCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQ0QsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBSWhDRSxNQUFNLENBQUNDLE9BQU8sR0FBR0osTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["Router","require","use","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\routes\\","sources":["index.js"],"sourcesContent":["const Router = require(\"express\").Router();\r\n\r\nRouter.use(require(\"./user\"));\r\nRouter.use(require(\"./product\"));\r\n\r\n\r\n\r\nmodule.exports = Router;\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC,CAACD,MAAM,CAAC,CAAC;AAE1CA,MAAM,CAACE,GAAG,CAACD,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC7BD,MAAM,CAACE,GAAG,CAACD,OAAO,CAAC,WAAW,CAAC,CAAC;AAIhCE,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1720594698954},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\routes\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const Router = require(\"express\").Router();\nconst {\n  registerCustomer,\n  signinCustomer,\n  getAllUsers,\n  updateUser,\n  deleteUser,\n  getSingleUser\n} = require(\"../controllers/user\");\nconst {\n  validator,\n  verifyToken\n} = require(\"../middlewares/reqValidator\");\nRouter.post(\"/user/register_customer\", validator(\"userRegister\", \"body\"), registerCustomer);\nRouter.post(\"/user/signin_customer\", validator(\"userSignin\", \"body\"), signinCustomer);\nRouter.get(\"/user/get_all_users\", validator(\"allUsers\", \"query\"), verifyToken, getAllUsers);\nRouter.get(\"/user/get_single_user/:id\", verifyToken, getSingleUser);\nRouter.patch(\"/user/update_user/:id\", validator(\"updateUser\", \"body\"), verifyToken, updateUser);\nRouter.delete(\"/user/delete_user/:id\", verifyToken, deleteUser);\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJyZXF1aXJlIiwicmVnaXN0ZXJDdXN0b21lciIsInNpZ25pbkN1c3RvbWVyIiwiZ2V0QWxsVXNlcnMiLCJ1cGRhdGVVc2VyIiwiZGVsZXRlVXNlciIsImdldFNpbmdsZVVzZXIiLCJ2YWxpZGF0b3IiLCJ2ZXJpZnlUb2tlbiIsInBvc3QiLCJnZXQiLCJwYXRjaCIsImRlbGV0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxuZXcgc29uZzIyIDA3XFxUYXNrXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xyXG5jb25zdHsgXHJcbiAgICByZWdpc3RlckN1c3RvbWVyLFxyXG4gICAgIHNpZ25pbkN1c3RvbWVyLCBcclxuICAgICBnZXRBbGxVc2VycywgXHJcbiAgICAgdXBkYXRlVXNlcixcclxuICAgICBkZWxldGVVc2VyLCBcclxuICAgICBnZXRTaW5nbGVVc2VyfSA9cmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL3VzZXJcIik7XHJcbmNvbnN0ICB7IHZhbGlkYXRvciwgdmVyaWZ5VG9rZW4gfSA9cmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL3JlcVZhbGlkYXRvclwiKTtcclxuXHJcblJvdXRlci5wb3N0KFxyXG4gICAgXCIvdXNlci9yZWdpc3Rlcl9jdXN0b21lclwiLFxyXG4gICAgdmFsaWRhdG9yKFwidXNlclJlZ2lzdGVyXCIsIFwiYm9keVwiKSxcclxuICAgIHJlZ2lzdGVyQ3VzdG9tZXJcclxuKVxyXG5Sb3V0ZXIucG9zdChcclxuICAgIFwiL3VzZXIvc2lnbmluX2N1c3RvbWVyXCIsXHJcbiAgICB2YWxpZGF0b3IoXCJ1c2VyU2lnbmluXCIsIFwiYm9keVwiKSxcclxuICAgIHNpZ25pbkN1c3RvbWVyXHJcbilcclxuUm91dGVyLmdldChcclxuICAgIFwiL3VzZXIvZ2V0X2FsbF91c2Vyc1wiLFxyXG4gICAgdmFsaWRhdG9yKFwiYWxsVXNlcnNcIiwgXCJxdWVyeVwiKSxcclxuICAgIHZlcmlmeVRva2VuLFxyXG4gICAgZ2V0QWxsVXNlcnNcclxuKVxyXG5Sb3V0ZXIuZ2V0KFxyXG4gICAgXCIvdXNlci9nZXRfc2luZ2xlX3VzZXIvOmlkXCIsXHJcbiAgICB2ZXJpZnlUb2tlbixcclxuICAgIGdldFNpbmdsZVVzZXJcclxuKVxyXG5Sb3V0ZXIucGF0Y2goXHJcbiAgICBcIi91c2VyL3VwZGF0ZV91c2VyLzppZFwiLFxyXG4gICAgdmFsaWRhdG9yKFwidXBkYXRlVXNlclwiLCBcImJvZHlcIiksXHJcbiAgICB2ZXJpZnlUb2tlbixcclxuICAgIHVwZGF0ZVVzZXJcclxuKVxyXG5Sb3V0ZXIuZGVsZXRlKFxyXG4gICAgXCIvdXNlci9kZWxldGVfdXNlci86aWRcIixcclxuICAgIHZlcmlmeVRva2VuLFxyXG4gICAgZGVsZXRlVXNlclxyXG4pXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDRCxNQUFNLENBQUMsQ0FBQztBQUMxQyxNQUFLO0VBQ0RFLGdCQUFnQjtFQUNmQyxjQUFjO0VBQ2RDLFdBQVc7RUFDWEMsVUFBVTtFQUNWQyxVQUFVO0VBQ1ZDO0FBQWEsQ0FBQyxHQUFFTixPQUFPLENBQUMscUJBQXFCLENBQUM7QUFDbkQsTUFBTztFQUFFTyxTQUFTO0VBQUVDO0FBQVksQ0FBQyxHQUFFUixPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFFekVELE1BQU0sQ0FBQ1UsSUFBSSxDQUNQLHlCQUF5QixFQUN6QkYsU0FBUyxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsRUFDakNOLGdCQUNKLENBQUM7QUFDREYsTUFBTSxDQUFDVSxJQUFJLENBQ1AsdUJBQXVCLEVBQ3ZCRixTQUFTLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxFQUMvQkwsY0FDSixDQUFDO0FBQ0RILE1BQU0sQ0FBQ1csR0FBRyxDQUNOLHFCQUFxQixFQUNyQkgsU0FBUyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsRUFDOUJDLFdBQVcsRUFDWEwsV0FDSixDQUFDO0FBQ0RKLE1BQU0sQ0FBQ1csR0FBRyxDQUNOLDJCQUEyQixFQUMzQkYsV0FBVyxFQUNYRixhQUNKLENBQUM7QUFDRFAsTUFBTSxDQUFDWSxLQUFLLENBQ1IsdUJBQXVCLEVBQ3ZCSixTQUFTLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxFQUMvQkMsV0FBVyxFQUNYSixVQUNKLENBQUM7QUFDREwsTUFBTSxDQUFDYSxNQUFNLENBQ1QsdUJBQXVCLEVBQ3ZCSixXQUFXLEVBQ1hILFVBQ0osQ0FBQztBQUlEUSxNQUFNLENBQUNDLE9BQU8sR0FBR2YsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["Router","require","registerCustomer","signinCustomer","getAllUsers","updateUser","deleteUser","getSingleUser","validator","verifyToken","post","get","patch","delete","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\routes\\","sources":["user.js"],"sourcesContent":["const Router = require(\"express\").Router();\r\nconst{ \r\n    registerCustomer,\r\n     signinCustomer, \r\n     getAllUsers, \r\n     updateUser,\r\n     deleteUser, \r\n     getSingleUser} =require(\"../controllers/user\");\r\nconst  { validator, verifyToken } =require(\"../middlewares/reqValidator\");\r\n\r\nRouter.post(\r\n    \"/user/register_customer\",\r\n    validator(\"userRegister\", \"body\"),\r\n    registerCustomer\r\n)\r\nRouter.post(\r\n    \"/user/signin_customer\",\r\n    validator(\"userSignin\", \"body\"),\r\n    signinCustomer\r\n)\r\nRouter.get(\r\n    \"/user/get_all_users\",\r\n    validator(\"allUsers\", \"query\"),\r\n    verifyToken,\r\n    getAllUsers\r\n)\r\nRouter.get(\r\n    \"/user/get_single_user/:id\",\r\n    verifyToken,\r\n    getSingleUser\r\n)\r\nRouter.patch(\r\n    \"/user/update_user/:id\",\r\n    validator(\"updateUser\", \"body\"),\r\n    verifyToken,\r\n    updateUser\r\n)\r\nRouter.delete(\r\n    \"/user/delete_user/:id\",\r\n    verifyToken,\r\n    deleteUser\r\n)\r\n\r\n\r\n\r\nmodule.exports = Router;\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC,CAACD,MAAM,CAAC,CAAC;AAC1C,MAAK;EACDE,gBAAgB;EACfC,cAAc;EACdC,WAAW;EACXC,UAAU;EACVC,UAAU;EACVC;AAAa,CAAC,GAAEN,OAAO,CAAC,qBAAqB,CAAC;AACnD,MAAO;EAAEO,SAAS;EAAEC;AAAY,CAAC,GAAER,OAAO,CAAC,6BAA6B,CAAC;AAEzED,MAAM,CAACU,IAAI,CACP,yBAAyB,EACzBF,SAAS,CAAC,cAAc,EAAE,MAAM,CAAC,EACjCN,gBACJ,CAAC;AACDF,MAAM,CAACU,IAAI,CACP,uBAAuB,EACvBF,SAAS,CAAC,YAAY,EAAE,MAAM,CAAC,EAC/BL,cACJ,CAAC;AACDH,MAAM,CAACW,GAAG,CACN,qBAAqB,EACrBH,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,EAC9BC,WAAW,EACXL,WACJ,CAAC;AACDJ,MAAM,CAACW,GAAG,CACN,2BAA2B,EAC3BF,WAAW,EACXF,aACJ,CAAC;AACDP,MAAM,CAACY,KAAK,CACR,uBAAuB,EACvBJ,SAAS,CAAC,YAAY,EAAE,MAAM,CAAC,EAC/BC,WAAW,EACXJ,UACJ,CAAC;AACDL,MAAM,CAACa,MAAM,CACT,uBAAuB,EACvBJ,WAAW,EACXH,UACJ,CAAC;AAIDQ,MAAM,CAACC,OAAO,GAAGf,MAAM","ignoreList":[]}},"mtime":1720625191617},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\controllers\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"require(\"dotenv\").config();\nconst UserModal = require(\"../models/userSchema\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst secret_key = process.env.SECRET_KEY;\nconst registerCustomer = async (req, res, next) => {\n  try {\n    const {\n      firstName,\n      lastName,\n      email,\n      password,\n      confirmPassword,\n      role\n    } = req.body;\n\n    // Check if user with the same email already exists\n    const userEmail = await UserModal.findOne({\n      email: email\n    });\n    if (userEmail) {\n      return res.status(400).json({\n        message: \"User already registered\"\n      });\n    }\n    if (confirmPassword && password !== confirmPassword) {\n      return res.status(400).json({\n        message: \"Passwords do not match\"\n      });\n    }\n    const hashedPassword = await bcrypt.hash(password, 10);\n    const newUser = await UserModal.create({\n      firstName: firstName,\n      lastName: lastName,\n      email: email,\n      password: hashedPassword,\n      role: role\n    });\n    await newUser.save();\n    return res.status(200).json({\n      message: \"User registered successfully\"\n    });\n  } catch (error) {\n    console.error(\"Error in registration:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst signinCustomer = async (req, res, next) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n\n    // Check if the user with the provided email exists\n    const user = await UserModal.findOne({\n      email: email\n    });\n    if (!user) {\n      return res.status(400).json({\n        message: \"Invalid email/password\"\n      });\n    }\n    const isValidPassword = await bcrypt.compare(password, user.password);\n    if (!isValidPassword) {\n      return res.status(400).json({\n        message: \"Invalid email/password\"\n      });\n    }\n    const token = jwt.sign({\n      userId: user._id,\n      userRole: user.role\n    }, secret_key, {\n      expiresIn: \"1h\"\n    });\n    res.status(200).json({\n      id: user._id,\n      firstName: user.firstName,\n      email: user.email,\n      role: user.role,\n      token: token\n    });\n  } catch (error) {\n    console.error(\"Error in Login:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst getAllUsers = async (req, res, next) => {\n  const userId = req.userId;\n  const {\n    page,\n    limit\n  } = req.query;\n\n  // Convert page and limit to integers (default to 1 if not provided)\n  const pageNumber = parseInt(page, 10) || 1;\n  const limitNumber = parseInt(limit, 10) || 10; // Default limit to 10 if not provided\n\n  try {\n    // Fetch user role based on userId\n    const userRole = await UserModal.findById(userId);\n\n    // Fetch all users\n    let allUsers = await UserModal.find();\n    if (allUsers.length >= 1) {\n      let filteredUsers;\n      let totalCount;\n      let totalPages;\n      if (userRole.role === 2) {\n        // Filter users based on role === 3\n        filteredUsers = allUsers.filter(item => item.role === 3);\n      } else {\n        // Filter users based on role !== 1\n        filteredUsers = allUsers.filter(item => item._id.toString() !== userId);\n      }\n\n      // Calculate total count and total pages\n      totalCount = filteredUsers.length;\n      totalPages = Math.ceil(totalCount / limitNumber);\n\n      // Apply pagination using slice\n      filteredUsers = filteredUsers.slice((pageNumber - 1) * limitNumber, pageNumber * limitNumber);\n      return res.status(200).json({\n        currentPage: pageNumber,\n        totalItems: totalCount,\n        totalPages: totalPages,\n        users: filteredUsers\n      });\n    } else {\n      return res.status(200).json({\n        message: \"No Data\"\n      });\n    }\n  } catch (error) {\n    console.error(\"Error in retrieving users:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst getSingleUser = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  try {\n    const user = await UserModal.findOne({\n      _id: id\n    });\n    if (!user) {\n      return res.status(400).json({\n        message: \"No user avaible\"\n      });\n    }\n    return res.status(200).json({\n      user\n    });\n  } catch (error) {\n    return res.status(400).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst updateUser = async (req, res, next) => {\n  const {\n    id\n  } = req.params;\n  const userRole = req.userRole;\n  const {\n    firstName,\n    lastName,\n    role\n  } = req.body;\n  if (!id) {\n    return res.status(400).json({\n      error: \"User Id must me required\"\n    });\n  }\n  try {\n    const user = await UserModal.findOne({\n      _id: id\n    });\n    if (!user) {\n      return res.status(400).json({\n        error: \"User not Found\"\n      });\n    }\n    let updatedRole = user.role;\n    if (userRole === 2) {\n      if (role === 2 || role === 3) {\n        updatedRole = role;\n      } else {\n        return res.status(400).json({\n          error: \"Managers can only update role to 2 or 3\"\n        });\n      }\n    } else {\n      updatedRole = role;\n    }\n    const updateFields = {\n      role: updatedRole,\n      firstName: firstName || user.firstName,\n      lastName: lastName || user.lastName\n    };\n\n    // Update the user with the defined updateFields\n    await UserModal.updateOne({\n      _id: id\n    }, updateFields);\n    const updatedUserData = await UserModal.findOne({\n      _id: id\n    });\n    res.status(200).json(updatedUserData);\n  } catch (error) {\n    console.error(\"Error in updating user:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst deleteUser = async (req, res, next) => {\n  const {\n    id\n  } = req.params;\n  const userRole = req.userRole;\n  if (userRole === 3) {\n    return res.status(400).json({\n      error: \"Customer has no permissions to delete\"\n    });\n  }\n  if (!id) {\n    return res.status(400).json({\n      error: \"User Id must me required\"\n    });\n  }\n  try {\n    const user = await UserModal.findOne({\n      _id: id\n    });\n    if (!user) {\n      return res.status(400).json({\n        error: \"User not Found\"\n      });\n    }\n    if (userRole === 2) {\n      if (user.role === 1 || user.role === 2) {\n        return res.status(400).json({\n          error: \"Manger cannot Delete admin or manger\"\n        });\n      } else {\n        await UserModal.deleteOne({\n          _id: id\n        });\n        res.status(200).json({\n          message: `user ${id} removed successfully`\n        });\n      }\n    } else {\n      await UserModal.deleteOne({\n        _id: id\n      });\n      res.status(200).json({\n        message: `user ${id} removed successfully`\n      });\n    }\n  } catch (error) {\n    console.error(\"Error in updating user:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nmodule.exports = {\n  registerCustomer,\n  signinCustomer,\n  getAllUsers,\n  getSingleUser,\n  updateUser,\n  deleteUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiVXNlck1vZGFsIiwiYmNyeXB0Iiwiand0Iiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVRfS0VZIiwicmVnaXN0ZXJDdXN0b21lciIsInJlcSIsInJlcyIsIm5leHQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJyb2xlIiwiYm9keSIsInVzZXJFbWFpbCIsImZpbmRPbmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsIm5ld1VzZXIiLCJjcmVhdGUiLCJzYXZlIiwiZXJyb3IiLCJjb25zb2xlIiwic2lnbmluQ3VzdG9tZXIiLCJ1c2VyIiwiaXNWYWxpZFBhc3N3b3JkIiwiY29tcGFyZSIsInRva2VuIiwic2lnbiIsInVzZXJJZCIsIl9pZCIsInVzZXJSb2xlIiwiZXhwaXJlc0luIiwiaWQiLCJnZXRBbGxVc2VycyIsInBhZ2UiLCJsaW1pdCIsInF1ZXJ5IiwicGFnZU51bWJlciIsInBhcnNlSW50IiwibGltaXROdW1iZXIiLCJmaW5kQnlJZCIsImFsbFVzZXJzIiwiZmluZCIsImxlbmd0aCIsImZpbHRlcmVkVXNlcnMiLCJ0b3RhbENvdW50IiwidG90YWxQYWdlcyIsImZpbHRlciIsIml0ZW0iLCJ0b1N0cmluZyIsIk1hdGgiLCJjZWlsIiwic2xpY2UiLCJjdXJyZW50UGFnZSIsInRvdGFsSXRlbXMiLCJ1c2VycyIsImdldFNpbmdsZVVzZXIiLCJwYXJhbXMiLCJ1cGRhdGVVc2VyIiwidXBkYXRlZFJvbGUiLCJ1cGRhdGVGaWVsZHMiLCJ1cGRhdGVPbmUiLCJ1cGRhdGVkVXNlckRhdGEiLCJkZWxldGVVc2VyIiwiZGVsZXRlT25lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXG5ldyBzb25nMjIgMDdcXFRhc2tcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5jb25zdCBVc2VyTW9kYWwgPSByZXF1aXJlKFwiLi4vbW9kZWxzL3VzZXJTY2hlbWFcIik7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XHJcbmNvbnN0IHNlY3JldF9rZXkgPSBwcm9jZXNzLmVudi5TRUNSRVRfS0VZO1xyXG5jb25zdCByZWdpc3RlckN1c3RvbWVyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQsIHJvbGUgfSA9XHJcbiAgICAgIHJlcS5ib2R5O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgd2l0aCB0aGUgc2FtZSBlbWFpbCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgY29uc3QgdXNlckVtYWlsID0gYXdhaXQgVXNlck1vZGFsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcblxyXG4gICAgaWYgKHVzZXJFbWFpbCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlVzZXIgYWxyZWFkeSByZWdpc3RlcmVkXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbmZpcm1QYXNzd29yZCAmJiBwYXNzd29yZCAhPT0gY29uZmlybVBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGFzc3dvcmRzIGRvIG5vdCBtYXRjaFwiIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG5cclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2VyTW9kYWwuY3JlYXRlKHtcclxuICAgICAgZmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgIGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgIHJvbGU6IHJvbGUsXHJcbiAgICB9KTtcclxuICAgIGF3YWl0IG5ld1VzZXIuc2F2ZSgpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XCIgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZWdpc3RyYXRpb246XCIsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xyXG4gIH1cclxufTtcclxuY29uc3Qgc2lnbmluQ3VzdG9tZXIgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIHdpdGggdGhlIHByb3ZpZGVkIGVtYWlsIGV4aXN0c1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RhbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbC9wYXNzd29yZFwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgIGlmICghaXNWYWxpZFBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbC9wYXNzd29yZFwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXHJcbiAgICAgIHsgdXNlcklkOiB1c2VyLl9pZCwgdXNlclJvbGU6IHVzZXIucm9sZSB9LFxyXG4gICAgICBzZWNyZXRfa2V5LFxyXG4gICAgICB7XHJcbiAgICAgICAgZXhwaXJlc0luOiBcIjFoXCIsXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBpZDogdXNlci5faWQsXHJcbiAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICByb2xlOiB1c2VyLnJvbGUsXHJcbiAgICAgIHRva2VuOiB0b2tlbixcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gTG9naW46XCIsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldEFsbFVzZXJzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgdXNlcklkID0gcmVxLnVzZXJJZDtcclxuICBjb25zdCB7IHBhZ2UsIGxpbWl0IH0gPSByZXEucXVlcnk7XHJcblxyXG4gIC8vIENvbnZlcnQgcGFnZSBhbmQgbGltaXQgdG8gaW50ZWdlcnMgKGRlZmF1bHQgdG8gMSBpZiBub3QgcHJvdmlkZWQpXHJcbiAgY29uc3QgcGFnZU51bWJlciA9IHBhcnNlSW50KHBhZ2UsIDEwKSB8fCAxO1xyXG4gIGNvbnN0IGxpbWl0TnVtYmVyID0gcGFyc2VJbnQobGltaXQsIDEwKSB8fCAxMDsgLy8gRGVmYXVsdCBsaW1pdCB0byAxMCBpZiBub3QgcHJvdmlkZWRcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIHVzZXIgcm9sZSBiYXNlZCBvbiB1c2VySWRcclxuICAgIGNvbnN0IHVzZXJSb2xlID0gYXdhaXQgVXNlck1vZGFsLmZpbmRCeUlkKHVzZXJJZCk7XHJcblxyXG4gICAgLy8gRmV0Y2ggYWxsIHVzZXJzXHJcbiAgICBsZXQgYWxsVXNlcnMgPSBhd2FpdCBVc2VyTW9kYWwuZmluZCgpO1xyXG5cclxuICAgIGlmIChhbGxVc2Vycy5sZW5ndGggPj0gMSkge1xyXG4gICAgICBsZXQgZmlsdGVyZWRVc2VycztcclxuICAgICAgbGV0IHRvdGFsQ291bnQ7XHJcbiAgICAgIGxldCB0b3RhbFBhZ2VzO1xyXG5cclxuICAgICAgaWYgKHVzZXJSb2xlLnJvbGUgPT09IDIpIHtcclxuICAgICAgICAvLyBGaWx0ZXIgdXNlcnMgYmFzZWQgb24gcm9sZSA9PT0gM1xyXG4gICAgICAgIGZpbHRlcmVkVXNlcnMgPSBhbGxVc2Vycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ucm9sZSA9PT0gMyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRmlsdGVyIHVzZXJzIGJhc2VkIG9uIHJvbGUgIT09IDFcclxuICAgICAgICBmaWx0ZXJlZFVzZXJzID0gYWxsVXNlcnMuZmlsdGVyKFxyXG4gICAgICAgICAgKGl0ZW0pID0+IGl0ZW0uX2lkLnRvU3RyaW5nKCkgIT09IHVzZXJJZFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBjb3VudCBhbmQgdG90YWwgcGFnZXNcclxuICAgICAgdG90YWxDb3VudCA9IGZpbHRlcmVkVXNlcnMubGVuZ3RoO1xyXG4gICAgICB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdE51bWJlcik7XHJcblxyXG4gICAgICAvLyBBcHBseSBwYWdpbmF0aW9uIHVzaW5nIHNsaWNlXHJcbiAgICAgIGZpbHRlcmVkVXNlcnMgPSBmaWx0ZXJlZFVzZXJzLnNsaWNlKFxyXG4gICAgICAgIChwYWdlTnVtYmVyIC0gMSkgKiBsaW1pdE51bWJlcixcclxuICAgICAgICBwYWdlTnVtYmVyICogbGltaXROdW1iZXJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2VOdW1iZXIsXHJcbiAgICAgICAgdG90YWxJdGVtczogdG90YWxDb3VudCxcclxuICAgICAgICB0b3RhbFBhZ2VzOiB0b3RhbFBhZ2VzLFxyXG4gICAgICAgIHVzZXJzOiBmaWx0ZXJlZFVzZXJzLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiTm8gRGF0YVwiIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gcmV0cmlldmluZyB1c2VyczpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5jb25zdCBnZXRTaW5nbGVVc2VyPWFzeW5jKHJlcSxyZXMpPT57XHJcblxyXG4gIGNvbnN0IHtpZH09cmVxLnBhcmFtc1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IHVzZXI9YXdhaXQgVXNlck1vZGFsLmZpbmRPbmUoe19pZDppZH0pXHJcbiAgICBpZighdXNlcil7XHJcbiAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOlwiTm8gdXNlciBhdmFpYmxlXCJ9KVxyXG4gICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHt1c2VyfSlcclxuICAgICAgXHJcbiB9XHJcbiBjYXRjaChlcnJvcil7XHJcbiAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgZXJyb3I6XCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIlxyXG4gICB9KVxyXG4gfVxyXG5cclxufVxyXG5jb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICBjb25zdCB1c2VyUm9sZSA9IHJlcS51c2VyUm9sZTtcclxuICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIHJvbGUgfSA9IHJlcS5ib2R5O1xyXG4gIGlmICghaWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIlVzZXIgSWQgbXVzdCBtZSByZXF1aXJlZFwiIH0pO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RhbC5maW5kT25lKHsgX2lkOiBpZCB9KTtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJVc2VyIG5vdCBGb3VuZFwiIH0pO1xyXG4gICAgfVxyXG4gICAgbGV0IHVwZGF0ZWRSb2xlID0gdXNlci5yb2xlO1xyXG4gICAgaWYgKHVzZXJSb2xlID09PSAyKSB7XHJcbiAgICAgIGlmIChyb2xlID09PSAyIHx8IHJvbGUgPT09IDMpIHtcclxuICAgICAgICB1cGRhdGVkUm9sZSA9IHJvbGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc1xyXG4gICAgICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgICAgICAuanNvbih7IGVycm9yOiBcIk1hbmFnZXJzIGNhbiBvbmx5IHVwZGF0ZSByb2xlIHRvIDIgb3IgM1wiIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1cGRhdGVkUm9sZSA9IHJvbGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVGaWVsZHMgPSB7XHJcbiAgICAgIHJvbGU6IHVwZGF0ZWRSb2xlLFxyXG4gICAgICBmaXJzdE5hbWU6IGZpcnN0TmFtZSB8fCB1c2VyLmZpcnN0TmFtZSxcclxuICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lIHx8IHVzZXIubGFzdE5hbWUsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgdXNlciB3aXRoIHRoZSBkZWZpbmVkIHVwZGF0ZUZpZWxkc1xyXG4gICAgYXdhaXQgVXNlck1vZGFsLnVwZGF0ZU9uZSh7IF9pZDogaWQgfSwgdXBkYXRlRmllbGRzKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVkVXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kYWwuZmluZE9uZSh7IF9pZDogaWQgfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1cGRhdGVkVXNlckRhdGEpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gdXBkYXRpbmcgdXNlcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgY29uc3QgdXNlclJvbGU9cmVxLnVzZXJSb2xlXHJcbiAgaWYodXNlclJvbGUgPT09IDMpe1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQ3VzdG9tZXIgaGFzIG5vIHBlcm1pc3Npb25zIHRvIGRlbGV0ZVwiIH0pO1xyXG4gIH1cclxuICBpZiAoIWlkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJVc2VyIElkIG11c3QgbWUgcmVxdWlyZWRcIiB9KTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICBcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kYWwuZmluZE9uZSh7IF9pZDogaWQgfSk7XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiVXNlciBub3QgRm91bmRcIiB9KTtcclxuICAgIH1cclxuICAgIGlmICh1c2VyUm9sZSA9PT0gMil7XHJcbiAgICAgICAgaWYodXNlci5yb2xlID09PTEgfHwgdXNlci5yb2xlPT09Mil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyb3I6XCJNYW5nZXIgY2Fubm90IERlbGV0ZSBhZG1pbiBvciBtYW5nZXJcIn0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGF3YWl0IFVzZXJNb2RhbC5kZWxldGVPbmUoe19pZDppZH0pXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOmB1c2VyICR7aWR9IHJlbW92ZWQgc3VjY2Vzc2Z1bGx5YH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBhd2FpdCBVc2VyTW9kYWwuZGVsZXRlT25lKHtfaWQ6aWR9KVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOmB1c2VyICR7aWR9IHJlbW92ZWQgc3VjY2Vzc2Z1bGx5YH0pXHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gdXBkYXRpbmcgdXNlcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgcmVnaXN0ZXJDdXN0b21lcixcclxuICBzaWduaW5DdXN0b21lcixcclxuICBnZXRBbGxVc2VycyxcclxuICBnZXRTaW5nbGVVc2VyLFxyXG4gIHVwZGF0ZVVzZXIsXHJcbiAgZGVsZXRlVXNlcixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUMxQixNQUFNQyxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztBQUNqRCxNQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU1LLFVBQVUsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7QUFDekMsTUFBTUMsZ0JBQWdCLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUNqRCxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxTQUFTO01BQUVDLFFBQVE7TUFBRUMsS0FBSztNQUFFQyxRQUFRO01BQUVDLGVBQWU7TUFBRUM7SUFBSyxDQUFDLEdBQ25FUixHQUFHLENBQUNTLElBQUk7O0lBRVY7SUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTWxCLFNBQVMsQ0FBQ21CLE9BQU8sQ0FBQztNQUFFTixLQUFLLEVBQUVBO0lBQU0sQ0FBQyxDQUFDO0lBRTNELElBQUlLLFNBQVMsRUFBRTtNQUNiLE9BQU9ULEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsT0FBTyxFQUFFO01BQTBCLENBQUMsQ0FBQztJQUNyRTtJQUVBLElBQUlQLGVBQWUsSUFBSUQsUUFBUSxLQUFLQyxlQUFlLEVBQUU7TUFDbkQsT0FBT04sR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBeUIsQ0FBQyxDQUFDO0lBQ3BFO0lBQ0EsTUFBTUMsY0FBYyxHQUFHLE1BQU10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","map":{"version":3,"names":["require","config","UserModal","bcrypt","jwt","secret_key","process","env","SECRET_KEY","registerCustomer","req","res","next","firstName","lastName","email","password","confirmPassword","role","body","userEmail","findOne","status","json","message","hashedPassword","hash","newUser","create","save","error","console","signinCustomer","user","isValidPassword","compare","token","sign","userId","_id","userRole","expiresIn","id","getAllUsers","page","limit","query","pageNumber","parseInt","limitNumber","findById","allUsers","find","length","filteredUsers","totalCount","totalPages","filter","item","toString","Math","ceil","slice","currentPage","totalItems","users","getSingleUser","params","updateUser","updatedRole","updateFields","updateOne","updatedUserData","deleteUser","deleteOne","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\controllers\\","sources":["user.js"],"sourcesContent":["require(\"dotenv\").config();\r\nconst UserModal = require(\"../models/userSchema\");\r\nconst bcrypt = require(\"bcrypt\");\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst secret_key = process.env.SECRET_KEY;\r\nconst registerCustomer = async (req, res, next) => {\r\n  try {\r\n    const { firstName, lastName, email, password, confirmPassword, role } =\r\n      req.body;\r\n\r\n    // Check if user with the same email already exists\r\n    const userEmail = await UserModal.findOne({ email: email });\r\n\r\n    if (userEmail) {\r\n      return res.status(400).json({ message: \"User already registered\" });\r\n    }\r\n\r\n    if (confirmPassword && password !== confirmPassword) {\r\n      return res.status(400).json({ message: \"Passwords do not match\" });\r\n    }\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    const newUser = await UserModal.create({\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      email: email,\r\n      password: hashedPassword,\r\n      role: role,\r\n    });\r\n    await newUser.save();\r\n    return res.status(200).json({ message: \"User registered successfully\" });\r\n  } catch (error) {\r\n    console.error(\"Error in registration:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\nconst signinCustomer = async (req, res, next) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    // Check if the user with the provided email exists\r\n    const user = await UserModal.findOne({ email: email });\r\n    if (!user) {\r\n      return res.status(400).json({ message: \"Invalid email/password\" });\r\n    }\r\n\r\n    const isValidPassword = await bcrypt.compare(password, user.password);\r\n    if (!isValidPassword) {\r\n      return res.status(400).json({ message: \"Invalid email/password\" });\r\n    }\r\n\r\n    const token = jwt.sign(\r\n      { userId: user._id, userRole: user.role },\r\n      secret_key,\r\n      {\r\n        expiresIn: \"1h\",\r\n      }\r\n    );\r\n\r\n    res.status(200).json({\r\n      id: user._id,\r\n      firstName: user.firstName,\r\n      email: user.email,\r\n      role: user.role,\r\n      token: token,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error in Login:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\n\r\nconst getAllUsers = async (req, res, next) => {\r\n  const userId = req.userId;\r\n  const { page, limit } = req.query;\r\n\r\n  // Convert page and limit to integers (default to 1 if not provided)\r\n  const pageNumber = parseInt(page, 10) || 1;\r\n  const limitNumber = parseInt(limit, 10) || 10; // Default limit to 10 if not provided\r\n\r\n  try {\r\n    // Fetch user role based on userId\r\n    const userRole = await UserModal.findById(userId);\r\n\r\n    // Fetch all users\r\n    let allUsers = await UserModal.find();\r\n\r\n    if (allUsers.length >= 1) {\r\n      let filteredUsers;\r\n      let totalCount;\r\n      let totalPages;\r\n\r\n      if (userRole.role === 2) {\r\n        // Filter users based on role === 3\r\n        filteredUsers = allUsers.filter((item) => item.role === 3);\r\n      } else {\r\n        // Filter users based on role !== 1\r\n        filteredUsers = allUsers.filter(\r\n          (item) => item._id.toString() !== userId\r\n        );\r\n      }\r\n\r\n      // Calculate total count and total pages\r\n      totalCount = filteredUsers.length;\r\n      totalPages = Math.ceil(totalCount / limitNumber);\r\n\r\n      // Apply pagination using slice\r\n      filteredUsers = filteredUsers.slice(\r\n        (pageNumber - 1) * limitNumber,\r\n        pageNumber * limitNumber\r\n      );\r\n\r\n      return res.status(200).json({\r\n        currentPage: pageNumber,\r\n        totalItems: totalCount,\r\n        totalPages: totalPages,\r\n        users: filteredUsers,\r\n      });\r\n    } else {\r\n      return res.status(200).json({ message: \"No Data\" });\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error in retrieving users:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\nconst getSingleUser=async(req,res)=>{\r\n\r\n  const {id}=req.params\r\n  try{\r\n    const user=await UserModal.findOne({_id:id})\r\n    if(!user){\r\n     return res.status(400).json({message:\"No user avaible\"})\r\n    }\r\n\r\n      return res.status(200).json({user})\r\n      \r\n }\r\n catch(error){\r\n   return res.status(400).json({\r\n     error:\"Internal server error\"\r\n   })\r\n }\r\n\r\n}\r\nconst updateUser = async (req, res, next) => {\r\n  const { id } = req.params;\r\n  const userRole = req.userRole;\r\n  const { firstName, lastName, role } = req.body;\r\n  if (!id) {\r\n    return res.status(400).json({ error: \"User Id must me required\" });\r\n  }\r\n  try {\r\n    const user = await UserModal.findOne({ _id: id });\r\n    if (!user) {\r\n      return res.status(400).json({ error: \"User not Found\" });\r\n    }\r\n    let updatedRole = user.role;\r\n    if (userRole === 2) {\r\n      if (role === 2 || role === 3) {\r\n        updatedRole = role;\r\n      } else {\r\n        return res\r\n          .status(400)\r\n          .json({ error: \"Managers can only update role to 2 or 3\" });\r\n      }\r\n    } else {\r\n      updatedRole = role;\r\n    }\r\n    const updateFields = {\r\n      role: updatedRole,\r\n      firstName: firstName || user.firstName,\r\n      lastName: lastName || user.lastName,\r\n    };\r\n\r\n    // Update the user with the defined updateFields\r\n    await UserModal.updateOne({ _id: id }, updateFields);\r\n\r\n    const updatedUserData = await UserModal.findOne({ _id: id });\r\n    res.status(200).json(updatedUserData);\r\n  } catch (error) {\r\n    console.error(\"Error in updating user:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\n\r\nconst deleteUser = async (req, res, next) => {\r\n  const { id } = req.params;\r\n  const userRole=req.userRole\r\n  if(userRole === 3){\r\n    return res.status(400).json({ error: \"Customer has no permissions to delete\" });\r\n  }\r\n  if (!id) {\r\n    return res.status(400).json({ error: \"User Id must me required\" });\r\n  }\r\n  try {\r\n  \r\n    const user = await UserModal.findOne({ _id: id });\r\n    if (!user) {\r\n      return res.status(400).json({ error: \"User not Found\" });\r\n    }\r\n    if (userRole === 2){\r\n        if(user.role ===1 || user.role===2){\r\n            return res.status(400).json({error:\"Manger cannot Delete admin or manger\"})\r\n        }\r\n        else{\r\n            await UserModal.deleteOne({_id:id})\r\n            res.status(200).json({message:`user ${id} removed successfully`})\r\n        }\r\n    }\r\n    else{\r\n        await UserModal.deleteOne({_id:id})\r\n        res.status(200).json({message:`user ${id} removed successfully`})\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error(\"Error in updating user:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  registerCustomer,\r\n  signinCustomer,\r\n  getAllUsers,\r\n  getSingleUser,\r\n  updateUser,\r\n  deleteUser,\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1720625157831},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\middlewares\\\\reqValidator.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"require('dotenv').config();\nconst schemaValidation = require(\"../config/schemaValidation\");\nconst jwt = require(\"jsonwebtoken\");\nconst secret_key = process.env.SECRET_KEY;\nconst validator = (property, place = \"body\") => (req, res, next) => {\n  const {\n    error\n  } = schemaValidation[property].validate(req[place], {\n    abortEarly: false\n  });\n  if (!error) {\n    next();\n  } else {\n    const errorMessage = error.details.map(detail => detail.message).join('; ');\n    res.status(400).json({\n      error: errorMessage\n    });\n  }\n};\nconst verifyToken = (req, res, next) => {\n  const authHeader = req.headers[\"authorization\"];\n  if (authHeader) {\n    const token = authHeader.split(\" \")[1];\n    jwt.verify(token, secret_key, (err, decoded) => {\n      if (err) {\n        return res.status(401).json({\n          message: \"Unauthorized\",\n          success: false,\n          responseCode: 401\n        });\n      } else {\n        req.decoded = decoded;\n        req.userId = decoded.userId;\n        req.userRole = decoded.userRole;\n        next();\n      }\n    });\n  } else {\n    return res.status(401).json({\n      message: \"Unauthorized\",\n      success: false,\n      responseCode: 401\n    });\n  }\n};\nmodule.exports = {\n  validator,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwic2NoZW1hVmFsaWRhdGlvbiIsImp3dCIsInNlY3JldF9rZXkiLCJwcm9jZXNzIiwiZW52IiwiU0VDUkVUX0tFWSIsInZhbGlkYXRvciIsInByb3BlcnR5IiwicGxhY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZXJyb3IiLCJ2YWxpZGF0ZSIsImFib3J0RWFybHkiLCJlcnJvck1lc3NhZ2UiLCJkZXRhaWxzIiwibWFwIiwiZGV0YWlsIiwibWVzc2FnZSIsImpvaW4iLCJzdGF0dXMiLCJqc29uIiwidmVyaWZ5VG9rZW4iLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGVkIiwic3VjY2VzcyIsInJlc3BvbnNlQ29kZSIsInVzZXJJZCIsInVzZXJSb2xlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXG5ldyBzb25nMjIgMDdcXFRhc2tcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsicmVxVmFsaWRhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xyXG5jb25zdCBzY2hlbWFWYWxpZGF0aW9uID0gcmVxdWlyZShcIi4uL2NvbmZpZy9zY2hlbWFWYWxpZGF0aW9uXCIpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5jb25zdCBzZWNyZXRfa2V5PXByb2Nlc3MuZW52LlNFQ1JFVF9LRVlcclxuY29uc3QgdmFsaWRhdG9yID0gKHByb3BlcnR5LCBwbGFjZSA9IFwiYm9keVwiKSA9PiAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IHNjaGVtYVZhbGlkYXRpb25bcHJvcGVydHldLnZhbGlkYXRlKHJlcVtwbGFjZV0sIHtcclxuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yLmRldGFpbHMubWFwKGRldGFpbCA9PiBkZXRhaWwubWVzc2FnZSkuam9pbignOyAnKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvck1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbXCJhdXRob3JpemF0aW9uXCJdO1xyXG4gIGlmIChhdXRoSGVhZGVyKSB7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV07XHJcbiAgICAgIGp3dC52ZXJpZnkodG9rZW4sIHNlY3JldF9rZXksIChlcnIsIGRlY29kZWQpID0+IHtcclxuICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiLFxyXG4gICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlOiA0MDEsXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlcS5kZWNvZGVkID0gZGVjb2RlZDtcclxuICAgICAgICAgICAgICByZXEudXNlcklkID0gZGVjb2RlZC51c2VySWQ7XHJcbiAgICAgICAgICAgICAgcmVxLnVzZXJSb2xlPWRlY29kZWQudXNlclJvbGVcclxuICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICByZXNwb25zZUNvZGU6IDQwMSxcclxuICAgICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzPXtcclxuICAgIHZhbGlkYXRvcixcclxuICAgIHZlcmlmeVRva2VuXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUMxQixNQUFNQyxnQkFBZ0IsR0FBR0YsT0FBTyxDQUFDLDRCQUE0QixDQUFDO0FBQzlELE1BQU1HLEdBQUcsR0FBR0gsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNuQyxNQUFNSSxVQUFVLEdBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVO0FBQ3ZDLE1BQU1DLFNBQVMsR0FBR0EsQ0FBQ0MsUUFBUSxFQUFFQyxLQUFLLEdBQUcsTUFBTSxLQUFLLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDaEUsTUFBTTtJQUFFQztFQUFNLENBQUMsR0FBR1osZ0JBQWdCLENBQUNPLFFBQVEsQ0FBQyxDQUFDTSxRQUFRLENBQUNKLEdBQUcsQ0FBQ0QsS0FBSyxDQUFDLEVBQUU7SUFDOURNLFVBQVUsRUFBRTtFQUNoQixDQUFDLENBQUM7RUFFRixJQUFJLENBQUNGLEtBQUssRUFBRTtJQUNSRCxJQUFJLENBQUMsQ0FBQztFQUNWLENBQUMsTUFBTTtJQUNILE1BQU1JLFlBQVksR0FBR0gsS0FBSyxDQUFDSSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsTUFBTSxJQUFJQSxNQUFNLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzNFVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVWLEtBQUssRUFBRUc7SUFBYSxDQUFDLENBQUM7RUFDakQ7QUFDSixDQUFDO0FBR0QsTUFBTVEsV0FBVyxHQUFHQSxDQUFDZCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3RDLE1BQU1hLFVBQVUsR0FBR2YsR0FBRyxDQUFDZ0IsT0FBTyxDQUFDLGVBQWUsQ0FBQztFQUMvQyxJQUFJRCxVQUFVLEVBQUU7SUFDWixNQUFNRSxLQUFLLEdBQUdGLFVBQVUsQ0FBQ0csS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QzFCLEdBQUcsQ0FBQzJCLE1BQU0sQ0FBQ0YsS0FBSyxFQUFFeEIsVUFBVSxFQUFFLENBQUMyQixHQUFHLEVBQUVDLE9BQU8sS0FBSztNQUM1QyxJQUFJRCxHQUFHLEVBQUU7UUFDTCxPQUFPbkIsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUN4QkgsT0FBTyxFQUFFLGNBQWM7VUFDdkJZLE9BQU8sRUFBRSxLQUFLO1VBQ2RDLFlBQVksRUFBRTtRQUNsQixDQUFDLENBQUM7TUFDTixDQUFDLE1BQU07UUFDSHZCLEdBQUcsQ0FBQ3FCLE9BQU8sR0FBR0EsT0FBTztRQUNyQnJCLEdBQUcsQ0FBQ3dCLE1BQU0sR0FBR0gsT0FBTyxDQUFDRyxNQUFNO1FBQzNCeEIsR0FBRyxDQUFDeUIsUUFBUSxHQUFDSixPQUFPLENBQUNJLFFBQVE7UUFDN0J2QixJQUFJLENBQUMsQ0FBQztNQUNWO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQyxNQUFNO0lBQ0gsT0FBT0QsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUN4QkgsT0FBTyxFQUFFLGNBQWM7TUFDdkJZLE9BQU8sRUFBRSxLQUFLO01BQ2RDLFlBQVksRUFBRTtJQUNsQixDQUFDLENBQUM7RUFDTjtBQUNGLENBQUM7QUFHREcsTUFBTSxDQUFDQyxPQUFPLEdBQUM7RUFDWDlCLFNBQVM7RUFDVGlCO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["require","config","schemaValidation","jwt","secret_key","process","env","SECRET_KEY","validator","property","place","req","res","next","error","validate","abortEarly","errorMessage","details","map","detail","message","join","status","json","verifyToken","authHeader","headers","token","split","verify","err","decoded","success","responseCode","userId","userRole","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\middlewares\\","sources":["reqValidator.js"],"sourcesContent":["require('dotenv').config();\r\nconst schemaValidation = require(\"../config/schemaValidation\");\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst secret_key=process.env.SECRET_KEY\r\nconst validator = (property, place = \"body\") => (req, res, next) => {\r\n    const { error } = schemaValidation[property].validate(req[place], {\r\n        abortEarly: false,\r\n    });\r\n\r\n    if (!error) {\r\n        next();\r\n    } else {\r\n        const errorMessage = error.details.map(detail => detail.message).join('; ');\r\n        res.status(400).json({ error: errorMessage });\r\n    }\r\n};\r\n\r\n\r\nconst verifyToken = (req, res, next) => {\r\n  const authHeader = req.headers[\"authorization\"];\r\n  if (authHeader) {\r\n      const token = authHeader.split(\" \")[1];\r\n      jwt.verify(token, secret_key, (err, decoded) => {\r\n          if (err) {\r\n              return res.status(401).json({\r\n                  message: \"Unauthorized\",\r\n                  success: false,\r\n                  responseCode: 401,\r\n              });\r\n          } else {\r\n              req.decoded = decoded;\r\n              req.userId = decoded.userId;\r\n              req.userRole=decoded.userRole\r\n              next();\r\n          }\r\n      });\r\n  } else {\r\n      return res.status(401).json({\r\n          message: \"Unauthorized\",\r\n          success: false,\r\n          responseCode: 401,\r\n      });\r\n  }\r\n};\r\n\r\n\r\nmodule.exports={\r\n    validator,\r\n    verifyToken\r\n}\r\n"],"mappings":"AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAC1B,MAAMC,gBAAgB,GAAGF,OAAO,CAAC,4BAA4B,CAAC;AAC9D,MAAMG,GAAG,GAAGH,OAAO,CAAC,cAAc,CAAC;AACnC,MAAMI,UAAU,GAACC,OAAO,CAACC,GAAG,CAACC,UAAU;AACvC,MAAMC,SAAS,GAAGA,CAACC,QAAQ,EAAEC,KAAK,GAAG,MAAM,KAAK,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAChE,MAAM;IAAEC;EAAM,CAAC,GAAGZ,gBAAgB,CAACO,QAAQ,CAAC,CAACM,QAAQ,CAACJ,GAAG,CAACD,KAAK,CAAC,EAAE;IAC9DM,UAAU,EAAE;EAChB,CAAC,CAAC;EAEF,IAAI,CAACF,KAAK,EAAE;IACRD,IAAI,CAAC,CAAC;EACV,CAAC,MAAM;IACH,MAAMI,YAAY,GAAGH,KAAK,CAACI,OAAO,CAACC,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAC3EV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEV,KAAK,EAAEG;IAAa,CAAC,CAAC;EACjD;AACJ,CAAC;AAGD,MAAMQ,WAAW,GAAGA,CAACd,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACtC,MAAMa,UAAU,GAAGf,GAAG,CAACgB,OAAO,CAAC,eAAe,CAAC;EAC/C,IAAID,UAAU,EAAE;IACZ,MAAME,KAAK,GAAGF,UAAU,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACtC1B,GAAG,CAAC2B,MAAM,CAACF,KAAK,EAAExB,UAAU,EAAE,CAAC2B,GAAG,EAAEC,OAAO,KAAK;MAC5C,IAAID,GAAG,EAAE;QACL,OAAOnB,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACxBH,OAAO,EAAE,cAAc;UACvBY,OAAO,EAAE,KAAK;UACdC,YAAY,EAAE;QAClB,CAAC,CAAC;MACN,CAAC,MAAM;QACHvB,GAAG,CAACqB,OAAO,GAAGA,OAAO;QACrBrB,GAAG,CAACwB,MAAM,GAAGH,OAAO,CAACG,MAAM;QAC3BxB,GAAG,CAACyB,QAAQ,GAACJ,OAAO,CAACI,QAAQ;QAC7BvB,IAAI,CAAC,CAAC;MACV;IACJ,CAAC,CAAC;EACN,CAAC,MAAM;IACH,OAAOD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACxBH,OAAO,EAAE,cAAc;MACvBY,OAAO,EAAE,KAAK;MACdC,YAAY,EAAE;IAClB,CAAC,CAAC;EACN;AACF,CAAC;AAGDG,MAAM,CAACC,OAAO,GAAC;EACX9B,SAAS;EACTiB;AACJ,CAAC","ignoreList":[]}},"mtime":1720550689983},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\config\\\\schemaValidation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const Joi = require(\"joi\");\nconst userRegister = Joi.object().keys({\n  firstName: Joi.string().required(),\n  lastName: Joi.string().allow(null, \"\").optional().empty(\"\"),\n  email: Joi.string().email().required(),\n  password: Joi.string().min(6).required(),\n  confirmPassword: Joi.string().allow(null, \"\").optional().empty(\"\"),\n  role: Joi.number().required().valid(2, 3)\n});\nconst userSignin = Joi.object().keys({\n  email: Joi.string().email().required(),\n  password: Joi.string().min(6).required()\n});\nconst allUsers = Joi.object().keys({\n  page: Joi.number().required(),\n  limit: Joi.number().min(5).required()\n});\nconst updateUser = Joi.object().keys({\n  firstName: Joi.string().optional(),\n  lastName: Joi.string().allow(null, \"\").optional().empty(\"\"),\n  role: Joi.number().optional().valid(2, 3)\n});\n// Product Validation \n\nconst addProduct = Joi.object().keys({\n  title: Joi.string().required(),\n  desc: Joi.string().required(),\n  price: Joi.number().required()\n});\nconst updateProduct = Joi.object().keys({\n  title: Joi.string().optional(),\n  desc: Joi.string().optional(),\n  price: Joi.number().optional()\n});\nmodule.exports = {\n  userRegister,\n  userSignin,\n  allUsers,\n  updateUser,\n  addProduct,\n  updateProduct\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidXNlclJlZ2lzdGVyIiwib2JqZWN0Iiwia2V5cyIsImZpcnN0TmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibGFzdE5hbWUiLCJhbGxvdyIsIm9wdGlvbmFsIiwiZW1wdHkiLCJlbWFpbCIsInBhc3N3b3JkIiwibWluIiwiY29uZmlybVBhc3N3b3JkIiwicm9sZSIsIm51bWJlciIsInZhbGlkIiwidXNlclNpZ25pbiIsImFsbFVzZXJzIiwicGFnZSIsImxpbWl0IiwidXBkYXRlVXNlciIsImFkZFByb2R1Y3QiLCJ0aXRsZSIsImRlc2MiLCJwcmljZSIsInVwZGF0ZVByb2R1Y3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcbmV3IHNvbmcyMiAwN1xcVGFza1xcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsic2NoZW1hVmFsaWRhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3QgSm9pID1yZXF1aXJlKFwiam9pXCIpXHJcbiBjb25zdCB1c2VyUmVnaXN0ZXI9Sm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgIGxhc3ROYW1lOiBKb2kuc3RyaW5nKCkuYWxsb3cobnVsbCwgXCJcIikub3B0aW9uYWwoKS5lbXB0eShcIlwiKSxcclxuICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxyXG4gICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oNikucmVxdWlyZWQoKSxcclxuICAgIGNvbmZpcm1QYXNzd29yZDpKb2kuc3RyaW5nKCkuYWxsb3cobnVsbCwgXCJcIikub3B0aW9uYWwoKS5lbXB0eShcIlwiKSxcclxuICAgIHJvbGU6Sm9pLm51bWJlcigpLnJlcXVpcmVkKCkudmFsaWQoMiwzKSxcclxufSlcclxuY29uc3QgdXNlclNpZ25pbj1Kb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcclxuICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkubWluKDYpLnJlcXVpcmVkKCksXHJcbn0pXHJcbmNvbnN0IGFsbFVzZXJzPUpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgIFxyXG4gICAgcGFnZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXHJcbiAgICBsaW1pdDogSm9pLm51bWJlcigpLm1pbig1KS5yZXF1aXJlZCgpLFxyXG59KVxyXG5cclxuY29uc3QgdXBkYXRlVXNlcj1Kb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5hbGxvdyhudWxsLCBcIlwiKS5vcHRpb25hbCgpLmVtcHR5KFwiXCIpLFxyXG4gICAgcm9sZTpKb2kubnVtYmVyKCkub3B0aW9uYWwoKS52YWxpZCgyLDMpXHJcbn0pXHJcbi8vIFByb2R1Y3QgVmFsaWRhdGlvbiBcclxuXHJcbmNvbnN0IGFkZFByb2R1Y3Q9Sm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICAgdGl0bGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgZGVzYzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICBwcmljZTpKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcclxufSlcclxuY29uc3QgdXBkYXRlUHJvZHVjdD1Kb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICB0aXRsZTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgICBkZXNjOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICAgIHByaWNlOkpvaS5udW1iZXIoKS5vcHRpb25hbCgpLFxyXG59KVxyXG5cclxubW9kdWxlLmV4cG9ydHM9e1xyXG4gICAgdXNlclJlZ2lzdGVyLFxyXG4gICAgdXNlclNpZ25pbixcclxuICAgIGFsbFVzZXJzLFxyXG4gICAgdXBkYXRlVXNlcixc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","map":{"version":3,"names":["Joi","require","userRegister","object","keys","firstName","string","required","lastName","allow","optional","empty","email","password","min","confirmPassword","role","number","valid","userSignin","allUsers","page","limit","updateUser","addProduct","title","desc","price","updateProduct","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\config\\","sources":["schemaValidation.js"],"sourcesContent":["\r\nconst Joi =require(\"joi\")\r\n const userRegister=Joi.object().keys({\r\n    firstName: Joi.string().required(),\r\n    lastName: Joi.string().allow(null, \"\").optional().empty(\"\"),\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().min(6).required(),\r\n    confirmPassword:Joi.string().allow(null, \"\").optional().empty(\"\"),\r\n    role:Joi.number().required().valid(2,3),\r\n})\r\nconst userSignin=Joi.object().keys({\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().min(6).required(),\r\n})\r\nconst allUsers=Joi.object().keys({\r\n    \r\n    page: Joi.number().required(),\r\n    limit: Joi.number().min(5).required(),\r\n})\r\n\r\nconst updateUser=Joi.object().keys({\r\n    firstName: Joi.string().optional(),\r\n    lastName: Joi.string().allow(null, \"\").optional().empty(\"\"),\r\n    role:Joi.number().optional().valid(2,3)\r\n})\r\n// Product Validation \r\n\r\nconst addProduct=Joi.object().keys({\r\n    title: Joi.string().required(),\r\n    desc: Joi.string().required(),\r\n    price:Joi.number().required(),\r\n})\r\nconst updateProduct=Joi.object().keys({\r\n    title: Joi.string().optional(),\r\n    desc: Joi.string().optional(),\r\n    price:Joi.number().optional(),\r\n})\r\n\r\nmodule.exports={\r\n    userRegister,\r\n    userSignin,\r\n    allUsers,\r\n    updateUser,\r\n    addProduct,\r\n    updateProduct\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1720624352909},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\routes\\\\product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const {\n  addProduct,\n  getallProduts,\n  getSingleProduct,\n  updateProduct,\n  deleteProduct\n} = require(\"../controllers/product\");\nconst {\n  verifyToken,\n  validator\n} = require(\"../middlewares/reqValidator\");\nconst Router = require(\"express\").Router();\nRouter.post(\"/prod/add_Product\", validator(\"addProduct\", \"body\"), verifyToken, addProduct);\nRouter.get(\"/prod/get_all_Product\", verifyToken, getallProduts);\nRouter.get(\"/prod/get_Product/:id\", verifyToken, getSingleProduct);\nRouter.patch(\"/prod/update_Product/:id\", verifyToken, validator(\"updateProduct\", \"body\"), updateProduct);\n// Delete product , Only admin can delete the product\nRouter.delete(\"/prod/delete_Product/:id\", verifyToken, deleteProduct);\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhZGRQcm9kdWN0IiwiZ2V0YWxsUHJvZHV0cyIsImdldFNpbmdsZVByb2R1Y3QiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCIsInJlcXVpcmUiLCJ2ZXJpZnlUb2tlbiIsInZhbGlkYXRvciIsIlJvdXRlciIsInBvc3QiLCJnZXQiLCJwYXRjaCIsImRlbGV0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxuZXcgc29uZzIyIDA3XFxUYXNrXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJwcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgYWRkUHJvZHVjdCwgZ2V0YWxsUHJvZHV0cywgZ2V0U2luZ2xlUHJvZHVjdCwgdXBkYXRlUHJvZHVjdCwgZGVsZXRlUHJvZHVjdCB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL3Byb2R1Y3RcIik7XHJcbmNvbnN0IHsgdmVyaWZ5VG9rZW4gLHZhbGlkYXRvcn0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvcmVxVmFsaWRhdG9yXCIpO1xyXG5cclxuY29uc3QgUm91dGVyID0gcmVxdWlyZShcImV4cHJlc3NcIikuUm91dGVyKCk7XHJcblJvdXRlci5wb3N0KFxyXG4gICAgXCIvcHJvZC9hZGRfUHJvZHVjdFwiLFxyXG4gICAgdmFsaWRhdG9yKFwiYWRkUHJvZHVjdFwiLCBcImJvZHlcIiksXHJcbiAgICB2ZXJpZnlUb2tlbixcclxuICAgIGFkZFByb2R1Y3RcclxuICAgIFxyXG4pXHJcblJvdXRlci5nZXQoXHJcbiAgICBcIi9wcm9kL2dldF9hbGxfUHJvZHVjdFwiLFxyXG4gICAgdmVyaWZ5VG9rZW4sXHJcbiAgICBnZXRhbGxQcm9kdXRzXHJcbilcclxuXHJcblJvdXRlci5nZXQoXHJcbiAgICBcIi9wcm9kL2dldF9Qcm9kdWN0LzppZFwiLFxyXG4gICAgdmVyaWZ5VG9rZW4sXHJcbiAgICBnZXRTaW5nbGVQcm9kdWN0XHJcbilcclxuUm91dGVyLnBhdGNoKFxyXG4gICAgXCIvcHJvZC91cGRhdGVfUHJvZHVjdC86aWRcIixcclxuICAgIHZlcmlmeVRva2VuLFxyXG4gICAgdmFsaWRhdG9yKFwidXBkYXRlUHJvZHVjdFwiLCBcImJvZHlcIiksXHJcbiAgICB1cGRhdGVQcm9kdWN0XHJcbilcclxuLy8gRGVsZXRlIHByb2R1Y3QgLCBPbmx5IGFkbWluIGNhbiBkZWxldGUgdGhlIHByb2R1Y3RcclxuUm91dGVyLmRlbGV0ZShcclxuICAgIFwiL3Byb2QvZGVsZXRlX1Byb2R1Y3QvOmlkXCIsXHJcbiAgICB2ZXJpZnlUb2tlbixcclxuICAgIGRlbGV0ZVByb2R1Y3RcclxuKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtFQUFFQSxVQUFVO0VBQUVDLGFBQWE7RUFBRUMsZ0JBQWdCO0VBQUVDLGFBQWE7RUFBRUM7QUFBYyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUN2SCxNQUFNO0VBQUVDLFdBQVc7RUFBRUM7QUFBUyxDQUFDLEdBQUdGLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQztBQUV4RSxNQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDMUNBLE1BQU0sQ0FBQ0MsSUFBSSxDQUNQLG1CQUFtQixFQUNuQkYsU0FBUyxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsRUFDL0JELFdBQVcsRUFDWE4sVUFFSixDQUFDO0FBQ0RRLE1BQU0sQ0FBQ0UsR0FBRyxDQUNOLHVCQUF1QixFQUN2QkosV0FBVyxFQUNYTCxhQUNKLENBQUM7QUFFRE8sTUFBTSxDQUFDRSxHQUFHLENBQ04sdUJBQXVCLEVBQ3ZCSixXQUFXLEVBQ1hKLGdCQUNKLENBQUM7QUFDRE0sTUFBTSxDQUFDRyxLQUFLLENBQ1IsMEJBQTBCLEVBQzFCTCxXQUFXLEVBQ1hDLFNBQVMsQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDLEVBQ2xDSixhQUNKLENBQUM7QUFDRDtBQUNBSyxNQUFNLENBQUNJLE1BQU0sQ0FDVCwwQkFBMEIsRUFDMUJOLFdBQVcsRUFDWEYsYUFDSixDQUFDO0FBRURTLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHTixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["addProduct","getallProduts","getSingleProduct","updateProduct","deleteProduct","require","verifyToken","validator","Router","post","get","patch","delete","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\routes\\","sources":["product.js"],"sourcesContent":["const { addProduct, getallProduts, getSingleProduct, updateProduct, deleteProduct } = require(\"../controllers/product\");\r\nconst { verifyToken ,validator} = require(\"../middlewares/reqValidator\");\r\n\r\nconst Router = require(\"express\").Router();\r\nRouter.post(\r\n    \"/prod/add_Product\",\r\n    validator(\"addProduct\", \"body\"),\r\n    verifyToken,\r\n    addProduct\r\n    \r\n)\r\nRouter.get(\r\n    \"/prod/get_all_Product\",\r\n    verifyToken,\r\n    getallProduts\r\n)\r\n\r\nRouter.get(\r\n    \"/prod/get_Product/:id\",\r\n    verifyToken,\r\n    getSingleProduct\r\n)\r\nRouter.patch(\r\n    \"/prod/update_Product/:id\",\r\n    verifyToken,\r\n    validator(\"updateProduct\", \"body\"),\r\n    updateProduct\r\n)\r\n// Delete product , Only admin can delete the product\r\nRouter.delete(\r\n    \"/prod/delete_Product/:id\",\r\n    verifyToken,\r\n    deleteProduct\r\n)\r\n\r\nmodule.exports = Router;\r\n"],"mappings":"AAAA,MAAM;EAAEA,UAAU;EAAEC,aAAa;EAAEC,gBAAgB;EAAEC,aAAa;EAAEC;AAAc,CAAC,GAAGC,OAAO,CAAC,wBAAwB,CAAC;AACvH,MAAM;EAAEC,WAAW;EAAEC;AAAS,CAAC,GAAGF,OAAO,CAAC,6BAA6B,CAAC;AAExE,MAAMG,MAAM,GAAGH,OAAO,CAAC,SAAS,CAAC,CAACG,MAAM,CAAC,CAAC;AAC1CA,MAAM,CAACC,IAAI,CACP,mBAAmB,EACnBF,SAAS,CAAC,YAAY,EAAE,MAAM,CAAC,EAC/BD,WAAW,EACXN,UAEJ,CAAC;AACDQ,MAAM,CAACE,GAAG,CACN,uBAAuB,EACvBJ,WAAW,EACXL,aACJ,CAAC;AAEDO,MAAM,CAACE,GAAG,CACN,uBAAuB,EACvBJ,WAAW,EACXJ,gBACJ,CAAC;AACDM,MAAM,CAACG,KAAK,CACR,0BAA0B,EAC1BL,WAAW,EACXC,SAAS,CAAC,eAAe,EAAE,MAAM,CAAC,EAClCJ,aACJ,CAAC;AACD;AACAK,MAAM,CAACI,MAAM,CACT,0BAA0B,EAC1BN,WAAW,EACXF,aACJ,CAAC;AAEDS,MAAM,CAACC,OAAO,GAAGN,MAAM","ignoreList":[]}},"mtime":1720624736918},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\controllers\\\\product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"require(\"dotenv\").config();\nconst ProductModal = require(\"../models/productSchema\");\nconst addProduct = async (req, res) => {\n  const userRole = req.userRole;\n  const userId = req.userId;\n  const {\n    title,\n    desc,\n    price\n  } = req.body;\n  try {\n    if (userRole === 3) {\n      return res.status(400).json({\n        error: \"Customer cannot add product\"\n      });\n    }\n    const product = await ProductModal.create({\n      title,\n      desc,\n      price,\n      createdBy: userId\n    });\n    await product.save();\n    return res.status(200).json({\n      message: \"Product added successfully\"\n    });\n  } catch (error) {\n    console.error(\"Error:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst getallProduts = async (req, res) => {\n  try {\n    const products = await ProductModal.find();\n    if (products?.length >= 1) {\n      return res.status(200).json({\n        products: products\n      });\n    } else {\n      return res.status(200).json({\n        message: \"No product avaible\"\n      });\n    }\n  } catch (error) {\n    return res.status(400).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst getSingleProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  try {\n    const product = await ProductModal.findOne({\n      _id: id\n    });\n    if (!product) {\n      return res.status(400).json({\n        message: \"No product avaible\"\n      });\n    } else {\n      return res.status(200).json({\n        product\n      });\n    }\n  } catch (error) {\n    return res.status(400).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nconst updateProduct = async (req, res) => {\n  const userRole = req.userRole;\n  const {\n    id\n  } = req.params;\n  const {\n    title,\n    desc,\n    price\n  } = req.body;\n  try {\n    if (userRole !== 1 || userRole !== 2) {\n      return res.status(400).json({\n        error: \"Customer cannot update product\"\n      });\n    }\n    const product = await ProductModal.findOne({\n      _id: id\n    });\n    if (!product) {\n      return res.status(400).json({\n        error: \"Product Not Found\"\n      });\n    }\n    await ProductModal.updateOne({\n      title: product.title || title,\n      desc: product.desc || desc,\n      price: product.price || price\n    });\n    return res.status(200).json({\n      product\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: \"Internal Server Error \"\n    });\n  }\n};\nconst deleteProduct = async (req, res, next) => {\n  const {\n    id\n  } = req.params;\n  const userRole = req.userRole;\n  if (userRole === 3 || userRole === 2) {\n    return res.status(400).json({\n      error: \"Customer/Manger has no permissions to delete product\"\n    });\n  }\n  if (!id) {\n    return res.status(400).json({\n      error: \"Id must me required\"\n    });\n  }\n  try {\n    const user = await ProductModal.findOne({\n      _id: id\n    });\n    if (!user) {\n      return res.status(400).json({\n        error: \"Product not Found\"\n      });\n    } else {\n      await ProductModal.deleteOne({\n        _id: id\n      });\n      res.status(200).json({\n        message: `product ${id} removed successfully`\n      });\n    }\n  } catch (error) {\n    console.error(\"Error in updating user:\", error);\n    return res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n};\nmodule.exports = {\n  addProduct,\n  getallProduts,\n  getSingleProduct,\n  updateProduct,\n  deleteProduct\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUHJvZHVjdE1vZGFsIiwiYWRkUHJvZHVjdCIsInJlcSIsInJlcyIsInVzZXJSb2xlIiwidXNlcklkIiwidGl0bGUiLCJkZXNjIiwicHJpY2UiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicHJvZHVjdCIsImNyZWF0ZSIsImNyZWF0ZWRCeSIsInNhdmUiLCJtZXNzYWdlIiwiY29uc29sZSIsImdldGFsbFByb2R1dHMiLCJwcm9kdWN0cyIsImZpbmQiLCJsZW5ndGgiLCJnZXRTaW5nbGVQcm9kdWN0IiwiaWQiLCJwYXJhbXMiLCJmaW5kT25lIiwiX2lkIiwidXBkYXRlUHJvZHVjdCIsInVwZGF0ZU9uZSIsImRlbGV0ZVByb2R1Y3QiLCJuZXh0IiwidXNlciIsImRlbGV0ZU9uZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxuZXcgc29uZzIyIDA3XFxUYXNrXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxuY29uc3QgUHJvZHVjdE1vZGFsID0gcmVxdWlyZShcIi4uL21vZGVscy9wcm9kdWN0U2NoZW1hXCIpO1xyXG5cclxuY29uc3QgYWRkUHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHVzZXJSb2xlID0gcmVxLnVzZXJSb2xlO1xyXG4gIGNvbnN0IHVzZXJJZCA9IHJlcS51c2VySWQ7XHJcbiAgY29uc3QgeyB0aXRsZSwgZGVzYywgcHJpY2UgfSA9IHJlcS5ib2R5O1xyXG4gIHRyeSB7XHJcbiAgICBpZiAodXNlclJvbGUgPT09IDMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQ3VzdG9tZXIgY2Fubm90IGFkZCBwcm9kdWN0XCIgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdE1vZGFsLmNyZWF0ZSh7XHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBkZXNjLFxyXG4gICAgICBwcmljZSxcclxuICAgICAgY3JlYXRlZEJ5OnVzZXJJZFxyXG4gICAgfSk7XHJcbiAgICBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBhZGRlZCBzdWNjZXNzZnVsbHlcIiBcclxuICAgICAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcclxuICB9XHJcbn07XHJcbmNvbnN0IGdldGFsbFByb2R1dHM9YXN5bmMocmVxLHJlcyk9PntcclxuICB0cnl7XHJcbiAgICAgY29uc3QgcHJvZHVjdHM9YXdhaXQgUHJvZHVjdE1vZGFsLmZpbmQoKVxyXG4gICAgIGlmKHByb2R1Y3RzPy5sZW5ndGggPj0xKXtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtwcm9kdWN0czpwcm9kdWN0c30pXHJcbiAgICAgfVxyXG4gICAgIGVsc2V7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTpcIk5vIHByb2R1Y3QgYXZhaWJsZVwifSlcclxuICAgICB9XHJcbiAgfVxyXG4gIGNhdGNoKGVycm9yKXtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIGVycm9yOlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbmNvbnN0IGdldFNpbmdsZVByb2R1Y3Q9YXN5bmMocmVxLHJlcyk9PntcclxuICBjb25zdHtpZH09cmVxLnBhcmFtcztcclxuICB0cnl7XHJcbiAgICAgY29uc3QgcHJvZHVjdD1hd2FpdCBQcm9kdWN0TW9kYWwuZmluZE9uZSh7X2lkOmlkfSlcclxuICAgICBpZighcHJvZHVjdCl7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTpcIk5vIHByb2R1Y3QgYXZhaWJsZVwifSlcclxuICAgICB9XHJcbiAgICAgZWxzZXtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtwcm9kdWN0fSlcclxuICAgICB9XHJcbiAgfVxyXG4gIGNhdGNoKGVycm9yKXtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIGVycm9yOlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbmNvbnN0IHVwZGF0ZVByb2R1Y3Q9YXN5bmMocmVxLHJlcyk9PntcclxuICBjb25zdCB1c2VyUm9sZT1yZXEudXNlclJvbGVcclxuICBjb25zdCB7aWR9PXJlcS5wYXJhbXNcclxuICBjb25zdCB7dGl0bGUsZGVzYyxwcmljZX09cmVxLmJvZHlcclxuICB0cnl7XHJcbiAgICBcclxuICAgIGlmKHVzZXJSb2xlICE9PSAxIHx8IHVzZXJSb2xlICE9PTIpe1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJDdXN0b21lciBjYW5ub3QgdXBkYXRlIHByb2R1Y3RcIiB9KTtcclxuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm9kdWN0PWF3YWl0IFByb2R1Y3RNb2RhbC5maW5kT25lKHtfaWQ6aWR9KVxyXG4gICAgaWYoIXByb2R1Y3Qpe1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJQcm9kdWN0IE5vdCBGb3VuZFwiIH0pO1xyXG4gICAgfVxyXG4gICAgIGF3YWl0IFByb2R1Y3RNb2RhbC51cGRhdGVPbmUoe1xyXG4gICAgdGl0bGU6cHJvZHVjdC50aXRsZSB8fCB0aXRsZSxcclxuICAgIGRlc2M6cHJvZHVjdC5kZXNjIHx8IGRlc2MsXHJcbiAgICBwcmljZTpwcm9kdWN0LnByaWNlIHx8IHByaWNlXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtwcm9kdWN0fSk7XHJcbiAgfVxyXG4gIGNhdGNoKGVycm9yKXtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6XCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IgXCJ9KVxyXG4gIH1cclxufVxyXG5jb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICBjb25zdCB1c2VyUm9sZT1yZXEudXNlclJvbGVcclxuICBpZih1c2VyUm9sZSA9PT0gMyB8fCB1c2VyUm9sZT09PTIpe1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQ3VzdG9tZXIvTWFuZ2VyIGhhcyBubyBwZXJtaXNzaW9ucyB0byBkZWxldGUgcHJvZHVjdFwiIH0pO1xyXG4gIH1cclxuICBpZiAoIWlkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJJZCBtdXN0IG1lIHJlcXVpcmVkXCIgfSk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgUHJvZHVjdE1vZGFsLmZpbmRPbmUoeyBfaWQ6IGlkIH0pO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIlByb2R1Y3Qgbm90IEZvdW5kXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZWxzZXtcclxuICAgICAgICBhd2FpdCBQcm9kdWN0TW9kYWwuZGVsZXRlT25lKHtfaWQ6aWR9KVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOmBwcm9kdWN0ICR7aWR9IHJlbW92ZWQgc3VjY2Vzc2Z1bGx5YH0pXHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gdXBkYXRpbmcgdXNlcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgYWRkUHJvZHVjdCxcclxuICBnZXRhbGxQcm9kdXRzLFxyXG4gIGdldFNpbmdsZVByb2R1Y3QsXHJcbiAgdXBkYXRlUHJvZHVjdCxcclxuICBkZWxldGVQcm9kdWN0XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFDMUIsTUFBTUMsWUFBWSxHQUFHRixPQUFPLENBQUMseUJBQXlCLENBQUM7QUFFdkQsTUFBTUcsVUFBVSxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3JDLE1BQU1DLFFBQVEsR0FBR0YsR0FBRyxDQUFDRSxRQUFRO0VBQzdCLE1BQU1DLE1BQU0sR0FBR0gsR0FBRyxDQUFDRyxNQUFNO0VBQ3pCLE1BQU07SUFBRUMsS0FBSztJQUFFQyxJQUFJO0lBQUVDO0VBQU0sQ0FBQyxHQUFHTixHQUFHLENBQUNPLElBQUk7RUFDdkMsSUFBSTtJQUNGLElBQUlMLFFBQVEsS0FBSyxDQUFDLEVBQUU7TUFDbEIsT0FBT0QsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBOEIsQ0FBQyxDQUFDO0lBQ3ZFO0lBQ0EsTUFBTUMsT0FBTyxHQUFHLE1BQU1iLFlBQVksQ0FBQ2MsTUFBTSxDQUFDO01BQ3hDUixLQUFLO01BQ0xDLElBQUk7TUFDSkMsS0FBSztNQUNMTyxTQUFTLEVBQUNWO0lBQ1os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","map":{"version":3,"names":["require","config","ProductModal","addProduct","req","res","userRole","userId","title","desc","price","body","status","json","error","product","create","createdBy","save","message","console","getallProduts","products","find","length","getSingleProduct","id","params","findOne","_id","updateProduct","updateOne","deleteProduct","next","user","deleteOne","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\controllers\\","sources":["product.js"],"sourcesContent":["require(\"dotenv\").config();\r\nconst ProductModal = require(\"../models/productSchema\");\r\n\r\nconst addProduct = async (req, res) => {\r\n  const userRole = req.userRole;\r\n  const userId = req.userId;\r\n  const { title, desc, price } = req.body;\r\n  try {\r\n    if (userRole === 3) {\r\n      return res.status(400).json({ error: \"Customer cannot add product\" });\r\n    }\r\n    const product = await ProductModal.create({\r\n      title,\r\n      desc,\r\n      price,\r\n      createdBy:userId\r\n    });\r\n    await product.save();\r\n    return res.status(200).json({\r\n         message: \"Product added successfully\" \r\n        });\r\n  } catch (error) {\r\n    console.error(\"Error:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\nconst getallProduts=async(req,res)=>{\r\n  try{\r\n     const products=await ProductModal.find()\r\n     if(products?.length >=1){\r\n      return res.status(200).json({products:products})\r\n     }\r\n     else{\r\n      return res.status(200).json({message:\"No product avaible\"})\r\n     }\r\n  }\r\n  catch(error){\r\n    return res.status(400).json({\r\n      error:\"Internal server error\"\r\n    })\r\n  }\r\n}\r\nconst getSingleProduct=async(req,res)=>{\r\n  const{id}=req.params;\r\n  try{\r\n     const product=await ProductModal.findOne({_id:id})\r\n     if(!product){\r\n      return res.status(400).json({message:\"No product avaible\"})\r\n     }\r\n     else{\r\n      return res.status(200).json({product})\r\n     }\r\n  }\r\n  catch(error){\r\n    return res.status(400).json({\r\n      error:\"Internal server error\"\r\n    })\r\n  }\r\n}\r\nconst updateProduct=async(req,res)=>{\r\n  const userRole=req.userRole\r\n  const {id}=req.params\r\n  const {title,desc,price}=req.body\r\n  try{\r\n    \r\n    if(userRole !== 1 || userRole !==2){\r\n      return res.status(400).json({ error: \"Customer cannot update product\" });\r\n\r\n    }\r\n    const product=await ProductModal.findOne({_id:id})\r\n    if(!product){\r\n      return res.status(400).json({ error: \"Product Not Found\" });\r\n    }\r\n     await ProductModal.updateOne({\r\n    title:product.title || title,\r\n    desc:product.desc || desc,\r\n    price:product.price || price\r\n    })\r\n    return res.status(200).json({product});\r\n  }\r\n  catch(error){\r\n    return res.status(500).json({error:\"Internal Server Error \"})\r\n  }\r\n}\r\nconst deleteProduct = async (req, res, next) => {\r\n  const { id } = req.params;\r\n  const userRole=req.userRole\r\n  if(userRole === 3 || userRole===2){\r\n    return res.status(400).json({ error: \"Customer/Manger has no permissions to delete product\" });\r\n  }\r\n  if (!id) {\r\n    return res.status(400).json({ error: \"Id must me required\" });\r\n  }\r\n  try {\r\n  \r\n    const user = await ProductModal.findOne({ _id: id });\r\n    if (!user) {\r\n      return res.status(400).json({ error: \"Product not Found\" });\r\n    }\r\n\r\n    else{\r\n        await ProductModal.deleteOne({_id:id})\r\n        res.status(200).json({message:`product ${id} removed successfully`})\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error(\"Error in updating user:\", error);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  addProduct,\r\n  getallProduts,\r\n  getSingleProduct,\r\n  updateProduct,\r\n  deleteProduct\r\n};\r\n"],"mappings":"AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAC1B,MAAMC,YAAY,GAAGF,OAAO,CAAC,yBAAyB,CAAC;AAEvD,MAAMG,UAAU,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACrC,MAAMC,QAAQ,GAAGF,GAAG,CAACE,QAAQ;EAC7B,MAAMC,MAAM,GAAGH,GAAG,CAACG,MAAM;EACzB,MAAM;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGN,GAAG,CAACO,IAAI;EACvC,IAAI;IACF,IAAIL,QAAQ,KAAK,CAAC,EAAE;MAClB,OAAOD,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAA8B,CAAC,CAAC;IACvE;IACA,MAAMC,OAAO,GAAG,MAAMb,YAAY,CAACc,MAAM,CAAC;MACxCR,KAAK;MACLC,IAAI;MACJC,KAAK;MACLO,SAAS,EAACV;IACZ,CAAC,CAAC;IACF,MAAMQ,OAAO,CAACG,IAAI,CAAC,CAAC;IACpB,OAAOb,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACvBM,OAAO,EAAE;IACV,CAAC,CAAC;EACR,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAwB,CAAC,CAAC;EACjE;AACF,CAAC;AACD,MAAMO,aAAa,GAAC,MAAAA,CAAMjB,GAAG,EAACC,GAAG,KAAG;EAClC,IAAG;IACA,MAAMiB,QAAQ,GAAC,MAAMpB,YAAY,CAACqB,IAAI,CAAC,CAAC;IACxC,IAAGD,QAAQ,EAAEE,MAAM,IAAG,CAAC,EAAC;MACvB,OAAOnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACS,QAAQ,EAACA;MAAQ,CAAC,CAAC;IACjD,CAAC,MACG;MACH,OAAOjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACM,OAAO,EAAC;MAAoB,CAAC,CAAC;IAC5D;EACH,CAAC,CACD,OAAML,KAAK,EAAC;IACV,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,KAAK,EAAC;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AACD,MAAMW,gBAAgB,GAAC,MAAAA,CAAMrB,GAAG,EAACC,GAAG,KAAG;EACrC,MAAK;IAACqB;EAAE,CAAC,GAACtB,GAAG,CAACuB,MAAM;EACpB,IAAG;IACA,MAAMZ,OAAO,GAAC,MAAMb,YAAY,CAAC0B,OAAO,CAAC;MAACC,GAAG,EAACH;IAAE,CAAC,CAAC;IAClD,IAAG,CAACX,OAAO,EAAC;MACX,OAAOV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACM,OAAO,EAAC;MAAoB,CAAC,CAAC;IAC5D,CAAC,MACG;MACH,OAAOd,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACE;MAAO,CAAC,CAAC;IACvC;EACH,CAAC,CACD,OAAMD,KAAK,EAAC;IACV,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,KAAK,EAAC;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AACD,MAAMgB,aAAa,GAAC,MAAAA,CAAM1B,GAAG,EAACC,GAAG,KAAG;EAClC,MAAMC,QAAQ,GAACF,GAAG,CAACE,QAAQ;EAC3B,MAAM;IAACoB;EAAE,CAAC,GAACtB,GAAG,CAACuB,MAAM;EACrB,MAAM;IAACnB,KAAK;IAACC,IAAI;IAACC;EAAK,CAAC,GAACN,GAAG,CAACO,IAAI;EACjC,IAAG;IAED,IAAGL,QAAQ,KAAK,CAAC,IAAIA,QAAQ,KAAI,CAAC,EAAC;MACjC,OAAOD,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAiC,CAAC,CAAC;IAE1E;IACA,MAAMC,OAAO,GAAC,MAAMb,YAAY,CAAC0B,OAAO,CAAC;MAACC,GAAG,EAACH;IAAE,CAAC,CAAC;IAClD,IAAG,CAACX,OAAO,EAAC;MACV,OAAOV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAoB,CAAC,CAAC;IAC7D;IACC,MAAMZ,YAAY,CAAC6B,SAAS,CAAC;MAC9BvB,KAAK,EAACO,OAAO,CAACP,KAAK,IAAIA,KAAK;MAC5BC,IAAI,EAACM,OAAO,CAACN,IAAI,IAAIA,IAAI;MACzBC,KAAK,EAACK,OAAO,CAACL,KAAK,IAAIA;IACvB,CAAC,CAAC;IACF,OAAOL,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACE;IAAO,CAAC,CAAC;EACxC,CAAC,CACD,OAAMD,KAAK,EAAC;IACV,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,KAAK,EAAC;IAAwB,CAAC,CAAC;EAC/D;AACF,CAAC;AACD,MAAMkB,aAAa,GAAG,MAAAA,CAAO5B,GAAG,EAAEC,GAAG,EAAE4B,IAAI,KAAK;EAC9C,MAAM;IAAEP;EAAG,CAAC,GAAGtB,GAAG,CAACuB,MAAM;EACzB,MAAMrB,QAAQ,GAACF,GAAG,CAACE,QAAQ;EAC3B,IAAGA,QAAQ,KAAK,CAAC,IAAIA,QAAQ,KAAG,CAAC,EAAC;IAChC,OAAOD,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAuD,CAAC,CAAC;EAChG;EACA,IAAI,CAACY,EAAE,EAAE;IACP,OAAOrB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAsB,CAAC,CAAC;EAC/D;EACA,IAAI;IAEF,MAAMoB,IAAI,GAAG,MAAMhC,YAAY,CAAC0B,OAAO,CAAC;MAAEC,GAAG,EAAEH;IAAG,CAAC,CAAC;IACpD,IAAI,CAACQ,IAAI,EAAE;MACT,OAAO7B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAoB,CAAC,CAAC;IAC7D,CAAC,MAEG;MACA,MAAMZ,YAAY,CAACiC,SAAS,CAAC;QAACN,GAAG,EAACH;MAAE,CAAC,CAAC;MACtCrB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACM,OAAO,EAAC,WAAWO,EAAE;MAAuB,CAAC,CAAC;IACxE;EAEF,CAAC,CAAC,OAAOZ,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAwB,CAAC,CAAC;EACjE;AACF,CAAC;AAEDsB,MAAM,CAACC,OAAO,GAAG;EACflC,UAAU;EACVkB,aAAa;EACbI,gBAAgB;EAChBK,aAAa;EACbE;AACF,CAAC","ignoreList":[]}},"mtime":1720624698319},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\new song22 07\\\\Task\",\"filename\":\"D:\\\\new song22 07\\\\Task\\\\src\\\\models\\\\productSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\new song22 07\\\\Task\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const mongoose = require('mongoose');\nconst productSchema = new mongoose.Schema({\n  title: {\n    type: String,\n    trim: true\n  },\n  desc: {\n    type: String,\n    trim: true\n  },\n  price: {\n    type: Number,\n    trim: true\n  },\n  // {\n  //     toJSON: { virtuals: true },\n  //     toObject: { virtuals: true }\n  //   });\n  //   userSchema.virtual(\"events\", {\n  //     ref: \"Event\",\n  //     foreignField: \"createdBy\",\n  //     localField: \"_id\"\n  //   });\n  createdBy: {\n    type: mongoose.SchemaTypes.ObjectId,\n    ref: \"User\"\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nconst Product = mongoose.model('Product', productSchema);\nmodule.exports = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwidHJpbSIsImRlc2MiLCJwcmljZSIsIk51bWJlciIsImNyZWF0ZWRCeSIsIlNjaGVtYVR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsIlByb2R1Y3QiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxuZXcgc29uZzIyIDA3XFxUYXNrXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0U2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgdGl0bGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdHJpbTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGRlc2M6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgcHJpY2U6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgdHJpbTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIC8vIHtcclxuICAgIC8vICAgICB0b0pTT046IHsgdmlydHVhbHM6IHRydWUgfSxcclxuICAgIC8vICAgICB0b09iamVjdDogeyB2aXJ0dWFsczogdHJ1ZSB9XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gICB1c2VyU2NoZW1hLnZpcnR1YWwoXCJldmVudHNcIiwge1xyXG4gICAgLy8gICAgIHJlZjogXCJFdmVudFwiLFxyXG4gICAgLy8gICAgIGZvcmVpZ25GaWVsZDogXCJjcmVhdGVkQnlcIixcclxuICAgIC8vICAgICBsb2NhbEZpZWxkOiBcIl9pZFwiXHJcbiAgICAvLyAgIH0pO1xyXG4gICAgY3JlYXRlZEJ5OntcclxuICAgICAgdHlwZTptb25nb29zZS5TY2hlbWFUeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOlwiVXNlclwiXHJcbiAgICAgIFxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWRBdDoge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUHJvZHVjdDtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUMsYUFBYSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBTSxDQUFDO0VBQ3RDQyxLQUFLLEVBQUU7SUFDSEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLElBQUksRUFBRTtFQUNWLENBQUM7RUFDREMsSUFBSSxFQUFDO0lBQ0RILElBQUksRUFBRUMsTUFBTTtJQUNaQyxJQUFJLEVBQUU7RUFDVixDQUFDO0VBQ0RFLEtBQUssRUFBRTtJQUNISixJQUFJLEVBQUVLLE1BQU07SUFDWkgsSUFBSSxFQUFFO0VBQ1YsQ0FBQztFQUNEO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBSSxTQUFTLEVBQUM7SUFDUk4sSUFBSSxFQUFDTCxRQUFRLENBQUNZLFdBQVcsQ0FBQ0MsUUFBUTtJQUNsQ0MsR0FBRyxFQUFDO0VBRU4sQ0FBQztFQUNEQyxTQUFTLEVBQUU7SUFDUFYsSUFBSSxFQUFFVyxJQUFJO0lBQ1ZDLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtFQUNsQjtBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU1DLE9BQU8sR0FBR25CLFFBQVEsQ0FBQ29CLEtBQUssQ0FBQyxTQUFTLEVBQUVsQixhQUFhLENBQUM7QUFFeERtQixNQUFNLENBQUNDLE9BQU8sR0FBR0gsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["mongoose","require","productSchema","Schema","title","type","String","trim","desc","price","Number","createdBy","SchemaTypes","ObjectId","ref","createdAt","Date","default","now","Product","model","module","exports"],"sourceRoot":"D:\\new song22 07\\Task\\src\\models\\","sources":["productSchema.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst productSchema = new mongoose.Schema({\r\n    title: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    desc:{\r\n        type: String,\r\n        trim: true\r\n    },\r\n    price: {\r\n        type: Number,\r\n        trim: true\r\n    },\r\n    // {\r\n    //     toJSON: { virtuals: true },\r\n    //     toObject: { virtuals: true }\r\n    //   });\r\n    //   userSchema.virtual(\"events\", {\r\n    //     ref: \"Event\",\r\n    //     foreignField: \"createdBy\",\r\n    //     localField: \"_id\"\r\n    //   });\r\n    createdBy:{\r\n      type:mongoose.SchemaTypes.ObjectId,\r\n      ref:\"User\"\r\n      \r\n    },\r\n    createdAt: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nconst Product = mongoose.model('Product', productSchema);\r\n\r\nmodule.exports = Product;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,aAAa,GAAG,IAAIF,QAAQ,CAACG,MAAM,CAAC;EACtCC,KAAK,EAAE;IACHC,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDC,IAAI,EAAC;IACDH,IAAI,EAAEC,MAAM;IACZC,IAAI,EAAE;EACV,CAAC;EACDE,KAAK,EAAE;IACHJ,IAAI,EAAEK,MAAM;IACZH,IAAI,EAAE;EACV,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAI,SAAS,EAAC;IACRN,IAAI,EAACL,QAAQ,CAACY,WAAW,CAACC,QAAQ;IAClCC,GAAG,EAAC;EAEN,CAAC;EACDC,SAAS,EAAE;IACPV,IAAI,EAAEW,IAAI;IACVC,OAAO,EAAED,IAAI,CAACE;EAClB;AACJ,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGnB,QAAQ,CAACoB,KAAK,CAAC,SAAS,EAAElB,aAAa,CAAC;AAExDmB,MAAM,CAACC,OAAO,GAAGH,OAAO","ignoreList":[]}},"mtime":1720623507529}}